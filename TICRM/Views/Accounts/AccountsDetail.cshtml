@model TICRM.DTOs.AccountViewModel
@{
    ViewBag.Title = "AccountsDetail";
}

<style>
    @@media screen and (max-width: 400px) {
        .m-subheader {
            margin-top: 5% !important;
            display: block !important;
            margin-bottom: -5% !important;
        }

        .m-subheader__breadcrumbs {
            display: none !important;
        }

        .mobile {
            margin-bottom: -8% !important;
        }
    }

    .accSubheader {
        display: block !important;
    }

    @@media screen and (max-width: 1040px) {
        .m-subheader {
            margin-top: 0 !important;
            display: block !important;
            margin-bottom: -2% !important;
        }

        .m-subheader__breadcrumbs {
            display: none !important;
        }

        .mobile {
            margin-bottom: -8% !important;
        }
    }
</style>
<div class="m-subheader accSubheader" style="margin-top:6%; margin-bottom:-2%">
    <div class="d-flex align-items-center">
        <div class="mr-auto">
            <h3 id="accName" class="m-subheader__title m-subheader__title--separator">@Model.account.Name</h3>
        <h3 id="accID" style="display:none">@Model.account.AccountId </h3>
        @*<ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
                <li class="m-nav__item m-nav__item--home">
                    <a href="#" class="m-nav__link m-nav__link--icon">
                        <i class="m-nav__link-icon @Model.account.AccountType.Font_Class" style="color: #7fceff;font-size: 30px;"></i>
                    </a>
                </li>
                <li class="m-nav__separator">-</li>
                <li class="m-nav__item">
                    <a href="#" class="m-nav__link">
                        <span class="m-nav__link-text">Account Summary</span>
                    </a>
                </li>
            </ul>*@
        </div>
        <!--Create Button-->
        @*<div>

                <a onclick="LocationurlWD()" class=" btn btn-primary " style="background: #525151; color:white;  border-color: #272626;">
                    Workflow
                </a>
                <a onclick="CloudSynchronize()" class="btn btn-primary " style="background: #525151; color:white; border-color: #272626;">
                    Cloud Device Sync..
                </a>

            </div>*@
    </div>
</div>

<div class="m-content">
     <div class="row">
        <!--Start my paste-->
        <div class="col-12">
            <div class="m-portlet m-portlet--full-height m-portlet--tabs   m-portlet--rounded">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-tools">

                        <ul class="nav nav-tabs m-tabs m-tabs-line   m-tabs-line--left m-tabs-line--primary" role="tablist">
                            <li class="nav-item m-tabs__item">
                                <a class="nav-link m-tabs__link active" data-toggle="tab" href="#account_details_tab_1" role="tab">
                                    <i class="flaticon-share m--hide"></i>
                                    Account Details
                                </a>
                            </li>
                            <li class="nav-item m-tabs__item">
                                <a class="nav-link m-tabs__link" data-toggle="tab" href="#sales_tab_2" onclick="LoadOppMap()" role="tab">
                                    Sales
                                </a>
                            </li>
                            <li class="nav-item m-tabs__item">
                                <a class="nav-link m-tabs__link" data-toggle="tab" href="#service_tab_3" onclick="LoadCasesMap()" role="tab">
                                    Service
                                </a>
                            </li>
                            <li class="nav-item m-tabs__item">
                                <a class="nav-link m-tabs__link" data-toggle="tab" href="#devices_tab_4" onclick="LoadDeviceMaps()" role="tab">
                                    Devices
                                </a>
                            </li>
                            <li class="nav-item m-tabs__item">
                                <a class="nav-link m-tabs__link" data-toggle="tab" href="#workflows_tab_5" role="tab">
                                    WorkFlows
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="tab-content" id="tabs-content">

                    <div class="tab-pane active" id="account_details_tab_1">

                        <div class="row">
                            <!--Account Details-->
                            <div class="col-6 col-xl-6">
                                <div class="m-portlet m-portlet--rounded">
                                    <div href="#demo" class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="fa fa-info-circle"></i></span>

                                                <h3 href="#demo" class="m-portlet__head-text">
                                                    Account Details
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="demo" class="m-portlet__body">
                                        <div class="row">
                                            <div class="col-12 col-lg-12 col-sm-12 col-md-12">
                                                @if (@Model.account.AccountId != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-info-circle detail-items">&nbsp;</span> @Model.account.Name</span> <br />
                                                }
                                                @if (@Model.account.AccountType != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-briefcase detail-items">&nbsp;</span> @Model.account.AccountType.Name</span><br />
                                                }
                                                @if (@Model.account.AccountSize != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-users detail-items">&nbsp;</span>@Model.account.AccountSize.Name</span><br />
                                                }
                                                @if (@Model.account.Status != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-circle detail-items">&nbsp;</span> @Model.account.Status.Name</span><br />
                                                }
                                                <span class="mb-0"><span class="fa fa-envelope detail-items">&nbsp;</span> @Model.account.Email</span><br />
                                                <span class="mb-0"><span class="fa fa-fax detail-items">&nbsp;</span> @Model.account.Fax</span><br />
                                                <span class="mb-0"><span class="fa fa-phone detail-items">&nbsp;</span> @Model.account.PhoneOffice</span><br />
                                                <span class="mb-0"><span class="fa fa-globe detail-items">&nbsp;</span> @Model.account.WebSite</span><br />

                                                @if (@Model.account.Address != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-location-arrow detail-items">&nbsp;</span>@Model.account.Address.City</span><br />
                                                }
                                                @if (@Model.account.Address1 != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-file-invoice-dollar detail-items">&nbsp;</span> @Model.account.Address1.City</span><br />
                                                }

                                                @if (@Model.account.Industry != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-industry detail-items">&nbsp;</span> @Model.account.Industry.Name</span><br />
                                                }
                                                @if (@Model.account.Team != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-child detail-items">&nbsp;</span> @Model.account.Team.Name</span><br />
                                                }
                                                @if (@Model.account.User != null)
                                                {
                                                    <span class="mb-0"><span class="fa fa-user detail-items">&nbsp;</span> @Model.account.User.Name</span><br />
                                                }
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-6 col-xl-6">
                                <div class="m-portlet m-portlet--mobile">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <h3 class="m-portlet__head-text">
                                                    Devices
                                                </h3>
                                            </div>
                                        </div>
                                        <div class="m-portlet__head-tools">

                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div id="AccountDevicesMap" style="height: 300px; width: 100%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-3 col-sm-6">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Customer Assets
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div class="counter">
                                            <i class="la la-money fa-2x"></i>
                                            <h2 class="timer count-title count-number" data-to="" data-speed="1500">@Model.accountAssetes.Count()</h2>
                                            <p class="count-text ">Customer Assets</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-3 col-sm-6">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Devices
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div class="counter">
                                            <i class="fa fa-microchip fa-2x"></i>
                                            <h2 class="timer count-title count-number" data-to="" data-speed="1500">@Model.accountDevices.Count()</h2>
                                            <p class="count-text ">Devices</p>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-lg-3 col-sm-6">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Workflow Reports
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div class="counter">
                                            <i class="la la-bar-chart fa-2x"></i>
                                            <h2 class="timer count-title count-number" data-to="" data-speed="1500">@Model.accountWorkOrder.Count()</h2>
                                            <p class="count-text ">Workflow Reports</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-3 col-sm-6">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    WorkOrders
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div class="counter">
                                            <i class="fa fa-tasks fa-2x"></i>
                                            <h2 @*id="workorderCountData"*@ class="timer count-title count-number" data-to="" data-speed="1500">@Model.accountWorkOrder.Count()</h2>
                                            <p class="count-text ">Work Orders</p>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                    <div class="tab-pane " id="sales_tab_2">
                        <div class="row">
                            <div class="col-lg-6 col-sm-12">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Opportunities
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div id="AccountOpportunitiesMap" style="height: 300px; width: 100%;"></div>
                                    </div>
                                </div>

                            </div>
                            <div class="col-lg-6 col-sm-12">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Sales
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div id="salesChart2" class="cost-chart"></div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-xl-6 col-sm-12">
                                <div class="m-portlet m-portlet--rounded">

                                    <div href="#opp" class="m-portlet__head collapsible" data-toggle="collapse" aria-expanded="true">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="la la-money"></i></span>

                                                <h3 class="m-portlet__head-text">
                                                    Opportunities - Details
                                                </h3>
                                            </div>
                                        </div>


                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item">

                                                    <div class="m-dropdown focus ">
                                                        <i class="fas fa-bars fa-lg swuich-icon" dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>

                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <a class="dropdown-item" onclick="LocationurlO()">Create Opportunity</a>
                                                        </div>
                                                    </div>

                                                </li>
                                                <li class="m-portlet__nav-item">
                                                    <i class="la la-angle-down"></i>

                                                </li>
                                            </ul>
                                        </div>


                                    </div>

                                    <div id="opp" class="m-portlet__body collapse show">
                                        <div class="tab-content" data-scrollable="true" data-height="200" data-mobile-height="200">

                                            <div class="m-widget3" id="opportunityDetails">

                                                @foreach (var item in Model.accountOppertunities)
                                                {
                                                    <div class="m-widget3__item">
                                                        <div class="m-widget3__header">

                                                            <p id="oppOpen" style="display:none">@Model.accountOppertunities.Where(a => a.OpportunityStage.Name == "Negotiation").Count()</p>
                                                            <p id="oppLost" style="display:none">@Model.accountOppertunities.Where(a => a.OpportunityStage.Name == "Closed Lost").Count()</p>
                                                            <p id="oppLostWon" style="display:none">@Model.accountOppertunities.Where(a => a.OpportunityStage.Name == "Closed New").Count()</p>

                                                            <div class="m-widget3__info" style="padding-left:unset !important;">
                                                                <span class="m-widget3__username">
                                                                    <a href="javascript:LoadOpportunityOnId('@item.OpportunityId');">@item.Title</a> | @item.Currency.Sign @item.Amount
                                                                </span><br>
                                                                <span class="m-widget3__time">

                                                                </span>
                                                            </div>
                                                            <span class="m-widget3__status m--font-info" style="padding-right:20px;">
                                                                @if (item.Status != null)
                                                                {
                                                                    if (item.Status.Name == "Active")
                                                                    {
                                                                        <span class="m-badge m-badge--success m-badge--wide" style="margin-bottom:5px;">@item.Status.Name</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="m-badge m-badge--danger m-badge--wide" style="margin-bottom:5px;">@item.Status.Name</span>
                                                                    }
                                                                }
                                                            </span>
                                                        </div>
                                                        <div class="m-widget3__body">
                                                            <p class="m-widget3__text">
                                                                @item.Description
                                                            </p>
                                                        </div>
                                                    </div>
                                                }

                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>


                            <div class="col-xl-6 col-sm-12">
                                <div class="m-portlet m-portlet--rounded">

                                    <div href="#work" class="m-portlet__head collapsible" data-toggle="collapse" aria-expanded="true">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="fa  fa-tasks" "></i></span>

                                                <h3 class="m-portlet__head-text">
                                                    Work Orders - Details
                                                </h3>
                                            </div>


                                        </div>

                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item">

                                                    <div class="m-dropdown focus ">
                                                        <i class="fas fa-bars fa-lg swuich-icon" dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>

                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <a class="dropdown-item" onclick="LocationurlW()">Create Work Order</a>
                                                        </div>
                                                    </div>

                                                </li>
                                                <li class="m-portlet__nav-item">
                                                    <i class="la la-angle-down"></i>

                                                </li>
                                            </ul>
                                        </div>

                                    </div>
                                    <div id="work" class="m-portlet__body collapse show">
                                        <div class="tab-content" data-scrollable="true" data-height="200" data-mobile-height="200">

                                            <div class="m-widget3" id="workordersDetails">

                                                @foreach (var item in Model.accountWorkOrder)
                                                {
                                                    <div class="m-widget3__item">
                                                        <div class="m-widget3__header">

                                                            <p style="display:none" id="workorderCount">@Model.accountWorkOrder.Count() </p>
                                                            <div class="m-widget3__info" style="padding-left:unset !important;">
                                                                <span class="m-widget3__username">
                                                                    <a href="#">@item.Title</a> | @item.NTE
                                                                </span><br>
                                                                <span class="m-widget3__time">

                                                                </span>
                                                            </div>
                                                            <span class="m-widget3__status m--font-info" style="padding-right:20px;">
                                                                @if (item.Status != null)
                                                                {
                                                                    if (item.Status.Name == "Active")
                                                                    {
                                                                        <span class="m-badge m-badge--success m-badge--wide" style="margin-bottom:5px;">@item.Status.Name</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="m-badge m-badge--danger m-badge--wide" style="margin-bottom:5px;">@item.Status.Name</span>
                                                                    }
                                                                }
                                                            </span>
                                                        </div>
                                                        <div class="m-widget3__body">
                                                            <p class="m-widget3__text">
                                                                @item.Description
                                                            </p>
                                                        </div>
                                                    </div>
                                                }

                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane " id="service_tab_3">
                        <div class="row">
                            <div class="col-7">
                                <div class="m-portlet m-portlet--tab">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Cases
                                                </h3>
                                            </div>
                                        </div>
                                        @*<select class="form-control m-input" id="accountmap" style="margin-right:auto;"></select>*@
                                    </div>
                                    <div class="m-portlet__body">
                                        <div id="CaseMap" style="height: 350px; width: 100%;"></div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl-4">
                                <div class="m-portlet m-portlet--rounded">

                                    <div href="#contact" class="m-portlet__head collapsible" aria-expanded="true" data-toggle="collapse">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="fa fa-address-book"></i></span>
                                                <h3 class="m-portlet__head-text">
                                                    Contacts - Details
                                                </h3>
                                            </div>
                                        </div>

                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item">

                                                    <div class="m-dropdown focus ">
                                                        <i class="fas fa-bars fa-lg swuich-icon" dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>

                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <a class="dropdown-item" onclick="LocationurlC()">Create Contact</a>
                                                        </div>
                                                    </div>

                                                </li>
                                                <li class="m-portlet__nav-item">
                                                    <i class="la la-angle-down"></i>

                                                </li>
                                            </ul>
                                        </div>


                                    </div>

                                    <div id="contact" class="m-portlet__body collapse show">
                                        <div class="tab-content" data-scrollable="true" data-height="380" data-mobile-height="200">

                                            <div class="m-widget3" id="contactDetails">

                                                @foreach (var item in Model.accountContact)
                                                {
                                                    <div class="m-widget3__item row">

                                                        <div class="col-2">
                                                            <i class="fa fa-4x fa-user" style="margin-top: 11%;"></i>
                                                        </div>
                                                        <div class="col-10">
                                                            <div class="m-widget3__header">

                                                                <div class="m-widget3__info" style="padding-left:unset !important;">
                                                                    <span class="m-widget3__username">
                                                                        <a href="javascript:LoadModalForDetails_Contact('@item.ContactId');">@item.Name</a> | @item.Email
                                                                    </span><br>
                                                                    <span class="m-widget3__time">
                                                                        @item.Phone
                                                                    </span>
                                                                </div>
                                                                <span class="m-widget3__status m--font-info" style="padding-right:20px;">
                                                                    @if (item.Status != null)
                                                                    {
                                                                        if (item.Status.Name == "Active")
                                                                        {
                                                                            <span class="m-badge m-badge--success m-badge--wide" style="margin-bottom:5px;">@item.Status.Name</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="m-badge m-badge--danger m-badge--wide" style="margin-bottom:5px;">@item.Status.Name</span>
                                                                        }
                                                                    }
                                                                </span>
                                                            </div>
                                                            <div class="m-widget3__body">
                                                                <p class="m-widget3__text">
                                                                    @item.Address
                                                                </p>
                                                            </div>
                                                        </div>

                                                    </div>
                                                }

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-7">
                                <div class="m-portlet m-portlet--rounded">

                                    <div href="#activities" class="m-portlet__head collapsible" data-toggle="collapse" aria-expanded="true">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="fa fa-bell"></i></span>
                                                <h3 class="m-portlet__head-text">
                                                    Activities - Details
                                                </h3>
                                            </div>
                                        </div>

                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item">
                                                    <div class="m-dropdown focus ">
                                                        <i class="fas fa-bars fa-lg swuich-icon" dropdown-toggle" id="dropdownMenuButton"
                                                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <a class="dropdown-item" onclick="LocationurlAc()">Create Activity</a>
                                                        </div>
                                                    </div>

                                                </li>
                                                <li class="m-portlet__nav-item">
                                                    <i class="la la-angle-down"></i>
                                                </li>
                                            </ul>
                                        </div>


                                    </div>

                                    <div id="activities" class="m-portlet__body collapse show" style="height: 300px;">

                                        <div class="m-scrollable" data-scrollable="true" data-height="300" style="height: 300px; overflow: hidden;">
                                            <div class="m-list-timeline m-list-timeline--skin-light">
                                                <div class="m-list-timeline__items" id="activityDetails">
                                                    @foreach (var item in Model.accountActivity)
                                                    {
                                                        <div class="m-list-timeline__item">
                                                            <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                            <span class="m-list-timeline__text">
                                                                <span class="m-link m-link--metal m-timeline-3__item-link">
                                                                    @item.Type
                                                                </span><br />
                                                                @item.Description
                                                            </span>
                                                            <span class="m-list-timeline__time">@item.CreatedDate</span>
                                                        </div>

                                                    }
                                                    @{ int indexActivityup = 1; }
                                                    @foreach (var itemActivity in Model.accountActivity)
                                                    {
                                                        if (indexActivityup == 1)
                                                        {
                                                            <div class="m-list-timeline__item">
                                                                <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                                <span class="m-list-timeline__text">
                                                                    <span class="m-link m-link--metal m-timeline-3__item-link">
                                                                        @itemActivity.Type
                                                                    </span><br />
                                                                    @itemActivity.Description
                                                                </span>
                                                                <span class="m-list-timeline__time">@itemActivity.CreatedDate</span>
                                                            </div>
                                                            { indexActivityup = 2; }
                                                        }
                                                        else if (indexActivityup == 2)
                                                        {
                                                            <div class="m-list-timeline__item">
                                                                <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                                <span class="m-list-timeline__text">
                                                                    <span class="m-link m-link--metal m-timeline-3__item-link">
                                                                        @itemActivity.Type
                                                                    </span><br />
                                                                    @itemActivity.Description
                                                                </span>
                                                                <span class="m-list-timeline__time">@itemActivity.CreatedDate</span>
                                                            </div>
                                                            { indexActivityup = 3; }

                                                        }
                                                        else if (indexActivityup == 3)
                                                        {
                                                            <div class="m-list-timeline__item">
                                                                <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                                                <span class="m-list-timeline__text">
                                                                    <span class="m-link m-link--metal m-timeline-3__item-link">
                                                                        @itemActivity.Type
                                                                    </span><br />
                                                                    @itemActivity.Description
                                                                </span>
                                                                <span class="m-list-timeline__time">@itemActivity.CreatedDate</span>
                                                            </div>
                                                            { indexActivityup = 4; }
                                                        }
                                                        else if (indexActivityup == 4)
                                                        {
                                                            <div class="m-list-timeline__item">
                                                                <span class="m-list-timeline__badge m-list-timeline__badge--accent"></span>
                                                                <span class="m-list-timeline__text">
                                                                    <span class="m-link m-link--metal m-timeline-3__item-link">
                                                                        @itemActivity.Type
                                                                    </span><br />
                                                                    @itemActivity.Description
                                                                </span>
                                                                <span class="m-list-timeline__time">@itemActivity.CreatedDate</span>
                                                            </div>
                                                            { indexActivityup = 5; }
                                                        }
                                                        else if (indexActivityup == 5)
                                                        {

                                                            <div class="m-list-timeline__item">
                                                                <span class="m-list-timeline__badge m-list-timeline__badge--warning"></span>
                                                                <span class="m-list-timeline__text">
                                                                    <span class="m-link m-link--metal m-timeline-3__item-link">
                                                                        @itemActivity.Type
                                                                    </span><br />
                                                                    @itemActivity.Description
                                                                </span>
                                                                <span class="m-list-timeline__time">@itemActivity.CreatedDate</span>
                                                            </div>
                                                            { indexActivityup = 6; }
                                                        }
                                                        else if (indexActivityup == 6)
                                                        {
                                                            <div class="m-list-timeline__item">
                                                                <span class="m-list-timeline__badge m-list-timeline__badge--brand"></span>
                                                                <span class="m-list-timeline__text">
                                                                    <span class="m-link m-link--metal m-timeline-3__item-link">
                                                                        @itemActivity.Type
                                                                    </span><br />
                                                                    @itemActivity.Description
                                                                </span>
                                                                <span class="m-list-timeline__time">@itemActivity.CreatedDate</span>
                                                            </div>
                                                            { indexActivityup = 1; }
                                                        }

                                                    }

                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>


                            <div class="col-4">
                                <div class="m-portlet m-portlet--rounded">

                                    <div href="#note" class="m-portlet__head collapsible mobile" data-toggle="collapse" aria-expanded="true">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="fa fa-sticky-note"></i></span>

                                                <h3 class="m-portlet__head-text">
                                                    Add Notes
                                                </h3>
                                            </div>
                                        </div>
                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">

                                                <li class="m-portlet__nav-item">
                                                    <i class="la la-angle-down"></i>

                                                </li>
                                            </ul>
                                        </div>

                                    </div>

                                    <div id="note" class="m-portlet__body collapse show">
                                        <div class="row">
                                            <div class="col-12 col-lg-12 col-sm-12 col-md-12">
                                                <blockquote class="blockquote">
                                                    <textarea class="form-control" name="Note" placeholder="Enter a Note" rows="9" aria-describedby="memo-error" aria-invalid="false"></textarea>
                                                </blockquote>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane " id="devices_tab_4">
                        <div class="row">
                            <div class="col-4 col-xl-4 col-sm-12">
                                <div class="m-portlet m-portlet--rounded">

                                    <div href="#dev" class="m-portlet__head collapsible" data-toggle="collapse" aria-expanded="true">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="fa fa-microchip"></i></span>

                                                <h3 class="m-portlet__head-text">
                                                    Locations - Devices
                                                </h3>


                                            </div>
                                        </div>
                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item">
                                                    <div>

                                                        <img id="deviceimgD" src="~/Content/Images/DeviceError.gif" style="width:20px; display:none;" />

                                                        <span id="devices" style="font-size:medium; font-weight:bold"></span>

                                                        <img id="deviceimgC" src="~/Content/Images/DeviceOn.gif" style="width:20px ; display:none;" />

                                                        <span id="ConDev" style="font-size:medium; font-weight:bold"></span>

                                                    </div>
                                                </li>
                                                <li class="m-portlet__nav-item">
                                                    <div class="m-dropdown focus ">
                                                        <i class="fas fa-bars fa-lg " dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:#7FCEFF"></i>

                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <a class="dropdown-item" onclick="LocationurlL()">Create Location</a>
                                                            <a class="dropdown-item" onclick="LocationurlA()">Create Asset</a>
                                                            <a class="dropdown-item" onclick="LocationurlD()">Create Device</a>
                                                        </div>
                                                    </div>

                                                </li>
                                                <li class="m-portlet__nav-item">

                                                    <i class="la la-angle-down"></i>

                                                </li>
                                            </ul>
                                        </div>

                                    </div>
                                    <div id="dev" class="m-portlet__body collapse show">

                                        <div id="jstree1" style="height: 280px; overflow-y: scroll;">
                                            <!-- in this example the tree is populated from inline HTML -->
                                            <p id="assetCount" style="display:none"> @Model.accountAssetes.Count()</p>
                                            <p id="devicesCount" style="display:none"> @Model.accountDevices.Count()</p>

                                            <ul>
                                                @foreach (var item in Model.accountLocations)
                                                {
                                                    <li macaddress="" deviceId="" data-jstree="type:file">
                                                        <span class="fa fa-map-marker swuich-icon"></span>
                                                        @item.Name

                                                        <ul>
                                                            @foreach (var Assetitem in Model.accountAssetes.Where(x => x.LocationId == item.LocationId))
                                                            {
                                                                <li macaddress="" assetId="@Assetitem.CustomerAssetId" assetName="@Assetitem.Title" data-jstree='{ "icon" : "fa fa-warning m--font-danger" }'>
                                                                    <span class="fa fa-users swuich-icon"></span>
                                                                    <span onclick="assetRightSlider('@Assetitem.Title')">
                                                                        @Assetitem.Title
                                                                    </span>

                                                                    <ul>
                                                                        @foreach (var deviceitem in Model.accountDevices.Where(x => x.CustomerAssetId == Assetitem.CustomerAssetId))
                                                                        {

                                                                            <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="type:file" style="width:100px" onclick="MapRightSlider('@deviceitem.EMEINumber','@deviceitem.Latitude','@deviceitem.Longitude','@deviceitem.Mac','@deviceitem.Name','@deviceitem.CloudServices', '@deviceitem.CloudData', '@deviceitem.DeviceId');">
                                                                                <span class="fa fa-microchip swuich-icon"></span>

                                                                                <img src="~/Content/Images/DeviceError.gif" id="@deviceitem.Mac" name="@deviceitem.Mac" style='margin-right:.50em; width:20px;' />
                                                                                <span id="hField" style="display:none"> @Model.accountDevices.Count</span>
                                                                                <span onclick="MapRightSlider('@deviceitem.EMEINumber','@deviceitem.Latitude','@deviceitem.Longitude','@deviceitem.Mac','@deviceitem.Name','@deviceitem.CloudServices', '@deviceitem.CloudData', '@deviceitem.DeviceId');">

                                                                                    @deviceitem.Name
                                                                                </span>
                                                                                <div class="btn-group" style="float:right;">

                                                                                    <span onclick="MapRightSlider('@deviceitem.EMEINumber','@deviceitem.Latitude','@deviceitem.Longitude','@deviceitem.Mac','@deviceitem.Name', '@deviceitem.CloudServices', '@deviceitem.CloudData', '@deviceitem.DeviceId');">
                                                                                        <span class="la la-angle-double-right" style='margin-right:.50em; display:inline-block; color:#4a9ed3;'></span>
                                                                                    </span>

                                                                                </div>

                                                                                <ul>
                                                                                    <li id="macadd" macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="type:file">
                                                                                        Mac
                                                                                        <ul>
                                                                                            <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="disabled: true">

                                                                                                @deviceitem.Mac

                                                                                            </li>
                                                                                        </ul>
                                                                                    </li>
                                                                                    <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="type:file">
                                                                                        EMEINumber
                                                                                        <ul>
                                                                                            <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="disabled: true">@deviceitem.EMEINumber</li>
                                                                                        </ul>
                                                                                    </li>
                                                                                    <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="type:file">
                                                                                        Latitude
                                                                                        <ul>
                                                                                            <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="disabled: true">@deviceitem.Latitude </li>
                                                                                        </ul>
                                                                                    </li>
                                                                                    <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="type:file">
                                                                                        Longitude
                                                                                        <ul>
                                                                                            <li macaddress="@deviceitem.Mac" deviceId="@deviceitem.DeviceId" data-jstree="disabled: true">@deviceitem.Longitude </li>
                                                                                        </ul>
                                                                                    </li>
                                                                                </ul>
                                                                            </li>
                                                                        }
                                                                    </ul>
                                                                </li>
                                                            }
                                                        </ul>
                                                    </li>
                                                }
                                            </ul>
                                        </div>

                                        <div class="modal" id="confirmModal" tabindex="-1">
                                            <div class=" modal-dialog">
                                                <div class=" modal-content">
                                                    <div class=" modal-header">
                                                        <h6 class="modal-title">Update Firmware</h6>
                                                        <button class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <span>The process can not be reverted. Are You Sure to Proceed?</span>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button class="btn btn-primary" data-dismiss="modal">Cancel</button>
                                                        <button class="btn btn-primary">Confirm</button>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>

                            <div class=" col-8 col-xl-8 col-sm-6">
                                    <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                        <div class="m-portlet__head">
                                            <div class="m-portlet__head-caption">
                                                <div class="m-portlet__head-title">
                                                    <span class="m-portlet__head-icon m--hide">
                                                        <i class="la la-gear"></i>
                                                    </span>
                                                    <h3 class="m-portlet__head-text">
                                                        Costs
                                                    </h3>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="m-portlet__body">
                                            <div id="accountcostchart" style="height: 280px; width: 100%;"></div>
                                        </div>
                                    </div>
                                </div>
                        </div>

                        <div class="row">
                            <div class="col-4 col-xl-4 col-sm-12">

                                <div class="m-portlet m-portlet--tab bg-dashboard-box">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Assets
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div id="AccountAssetschart" style="height: 150px; width: 100%;"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-4 col-xl-4 col-sm-12">
                                <div class="m-portlet m-portlet--tab bg-dashboard-box">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Disconnections
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div id="AccountDisconnectionchart" style="height: 150px; width: 100%;"></div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-4 col-xl-4 col-sm-12">
                                <div class="m-portlet m-portlet--tab bg-dashboard-box">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Channels
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div id="Accountchannelschart" style="height: 150px; width: 100%;"></div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="tab-pane " id="workflows_tab_5">
                        <div class="row">

                            <div class="col-lg-6 col-sm-12">
                                <div class="m-portlet m-portlet--rounded">


                                    @*Workflows*@

                                    <div class="m-portlet__head " aria-expanded="true">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="la la-bar-chart"></i></span>

                                                <h3 class="m-portlet__head-text">
                                                    WorkFlows
                                                </h3>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="m-portlet__body">
                                        <div class="m-scrollable" data-scrollable="true" data-height="200" data-mobile-height="200">

                                            <div class="m-timeline-3">

                                                @foreach (var item in Model.allworkflowsforaccount)
                                                {
                                                    <div class="m-timeline-3__items">
                                                        <div class="m-timeline-3__item m-timeline-3__item--info row">
                                                            <div class="col-8">
                                                                <span class="m-timeline-3__item-time">@item.Action</span>
                                                                <div class="m-timeline-3__item-desc">
                                                                    <span class="m-timeline-3__item-text">
                                                                        @item.Name
                                                                    </span><br>
                                                                    <span class="m-timeline-3__item-text">
                                                                        @item.Description
                                                                    </span><br>
                                                                    <span class="m-timeline-3__item-user-name">
                                                                        @item.DeviceName
                                                                    </span>
                                                                </div>
                                                            </div>

                                                            <div class="m-timeline-3__item-link float-right col-4">
                                                                @if (item.WorkFlowStatus != null)
                                                                {
                                                                    if (item.WorkFlowStatus == "Active")
                                                                    {
                                                                        <span class="m-badge m-badge--success m-badge--wide" style="margin: 15px;">@item.WorkFlowStatus</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="m-badge m-badge--danger m-badge--wide" style="margin: 15px;">@item.WorkFlowStatus</span>
                                                                    }
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>

                                                    </div>

                                                }

                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>


                            <div class="col-lg-6 col-sm-12">
                                <div class="m-portlet m-portlet--rounded">


                                    @*Workflows*@

                                    <div class="m-portlet__head " aria-expanded="true">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon"><i class="la la-bar-chart"></i></span>

                                                <h3 class="m-portlet__head-text">
                                                    WorkFlow Reports
                                                </h3>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="m-portlet__body">
                                        <div class="m-scrollable" data-scrollable="true" data-height="200" data-mobile-height="200">

                                            <div class="m-timeline-3">

                                                @foreach (var item in Model.accountWorkflow)
                                                {
                                                    <div class="m-timeline-3__items">
                                                        <div class="m-timeline-3__item m-timeline-3__item--info row">
                                                            <div class="col-8">
                                                                <span class="m-timeline-3__item-time">@item.Action</span>
                                                                <div class="m-timeline-3__item-desc">
                                                                    <span class="m-timeline-3__item-text">
                                                                        @item.WorkFlow.Name
                                                                    </span><br>
                                                                    <span class="m-timeline-3__item-text">
                                                                        @item.WorkFlow.Description
                                                                    </span><br>
                                                                    <span class="m-timeline-3__item-user-name">
                                                                        @item.DeviceName
                                                                    </span>
                                                                </div>
                                                            </div>

                                                            <div class="m-timeline-3__item-link float-right col-4">
                                                                @if (item.WorkFlowStatus != null)
                                                                {
                                                                    if (item.WorkFlowStatus == "Active")
                                                                    {
                                                                        <span class="m-badge m-badge--success m-badge--wide" style="margin: 15px;">@item.WorkFlowStatus</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="m-badge m-badge--danger m-badge--wide" style="margin: 15px;">@item.WorkFlowStatus</span>
                                                                    }
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>

                                                    </div>

                                                }

                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--END MY PASTE-->
    </div>
</div>

<!-- Start:Map Right Slider Modal -->
<div class="modal fade modal-MapRightSlider-fade" id="MapRightSliderModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 id="Dname" class=" modal-header-title modal-header-custom-text">&nbsp;&nbsp;</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>


            </div>
            <div class="modal-body modal-body-MapRightSlider">
                <div id="btnsCloud" class="m-portlet m-portlet--mobile  m-portlet--rounded">
                    <div class="m-portlet__body">
                        <div class="row col-sm-12" id="toggle_event_editing">
                            <div class=" col-sm-4">
                                <div>
                                    <a onclick="ToConfirms()" class="btn btn-success ">
                                        <span style="color:white">
                                            <i class="la la-plus"></i>
                                            <span>Update FW</span>
                                        </span>
                                    </a>
                                </div>
                            </div>
                            <div class=" col-sm-4">
                                <div>
                                    <a onclick="nevToURL()" class="btn btn-success">
                                        <span style="color:white">
                                            <i class="la la-cloud"></i>
                                            <span>Go To IBM</span>
                                        </span>
                                    </a>
                                </div>
                            </div>
                            <div class=" col-sm-4">
                                <div>
                                    <a href="#workflow" class="btn btn-success" data-toggle="collapse">
                                        <span style="color:white">
                                            <i class="la la-edit"></i>
                                            <span>Create Workflow</span>
                                        </span>
                                    </a>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>

                <div id="btnsAmazon" class="m-portlet m-portlet--mobile  m-portlet--rounded">
                    <div class="m-portlet__body">
                        <div class="row col-sm-12" id="toggle_event_editing">
                            <div class=" col-sm-4">
                                <div>
                                    <a onclick="ToConfirms()" class="btn btn-success">
                                        <span style="color:white">
                                            <i class="la la-plus"></i>
                                            <span>Update FW</span>
                                        </span>
                                    </a>
                                </div>
                            </div>
                            <div class=" col-sm-4">
                                <div>
                                    <a class="btn btn-success">
                                        <span style="color:white">
                                            <i class="la la-cloud"></i>
                                            <span>Go To AWS</span>
                                        </span>
                                    </a>
                                </div>
                            </div>
                            <div class=" col-sm-4">
                                <div>
                                    <a href="#workflow" class="btn btn-success" data-toggle="collapse">
                                        <span style="color:white">
                                            <i class="la la-edit"></i>
                                            <span>Create Workflow</span>
                                        </span>
                                    </a>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>


                <div id="btnsINCA" class="m-portlet m-portlet--mobile  m-portlet--rounded">
                    <div class="m-portlet__body">
                        <div class="row col-sm-12" id="toggle_event_editing">
                            <div class=" col-sm-4">
                                <div>
                                    <a href="#config" onclick="LoadDropdowns()" class="btn btn-success" data-toggle="collapse">
                                        <span style="color:white">
                                            <i class="la la-edit"></i>
                                            <span>Configure</span>
                                        </span>
                                    </a>
                                </div>
                            </div>
                            <div class=" col-sm-4">
                                <div>
                                    <a href="#firmware" class="btn btn-success" data-toggle="collapse">
                                        <span style="color:white">
                                            <i class="la la-plus"></i>
                                            <span>Update FW</span>
                                        </span>
                                    </a>
                                </div>
                            </div>

                            <div class=" col-sm-4">
                                <div>
                                    <a href="#workflow" class="btn btn-success" data-toggle="collapse">
                                        <span style="color:white">
                                            <i class="la la-edit"></i>
                                            <span>Create Workflow</span>
                                        </span>
                                    </a>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div id="workflow" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed collapse">
                    <div class="row">
                        <span class="nav-item">
                            <i href="#workflow" class="fa fa-2x fa-arrow-circle-left collapsible back-icon" data-toggle="collapse"></i>

                        </span>
                        <h3 style="margin-left: 11px; margin-top: 20px; margin-bottom: -10px;">Device Workflow</h3>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Name</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="Wname" name="Wname">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Sensor</label><br />
                            <select class="form-control m-input" id="Wsensors">
                            </select>

                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Threshold</label><br />
                            <div class="row">
                                <div class="input-group col-6">

                                    <input class="form-control m-input" id="WThreshold" name="WThreshold" placeholder="<=">
                                </div>
                                <div class="input-group col-6">

                                    <input class="form-control m-input" id="WThreshold1" name="WThreshold1" placeholder=">=">
                                </div>
                            </div>

                        </div>
                        <div class="col-lg-6">

                            <label class="control-label" for="Wpriority">
                                Priority
                            </label>
                            <select class="form-control m-input" id="Wpriority">
                                <option>
                                    High
                                </option>
                                <option>
                                    Medium
                                </option>
                                <option>
                                    Low
                                </option>

                            </select>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label" for="Waction">
                                Action
                            </label>
                            <select class="form-control m-input" id="Waction">
                                <option>
                                    Email
                                </option>
                                <option>
                                    Alert
                                </option>
                                <option>
                                    Note
                                </option>
                                <option>
                                    Case
                                </option>


                            </select>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <div class="input-group">
                                <input class="form-control m-input" id="Wdescription" name="Wdescription">
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label"></label><br />

                            <label class="m-checkbox m-checkbox--state-success">
                                <input id="checkbox" onclick="checkbox()" type="checkbox">
                                Enable Cloud CRMs
                                <span></span>
                            </label>
                        </div>
                        <div id="crm" style="display:none" class="col-lg-6">
                            <label class="control-label" for="WCloud">
                                Select CRM
                            </label>
                            <select class="form-control m-input" id="WCloud">
                                <option>
                                    SUGAR CRM
                                </option>
                                <option>
                                    DYNAMICS CRM
                                </option>
                                <option>
                                    SUITE CRM
                                </option>
                                <option>
                                    ZOHO CRM
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="PostData()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="reset" href="#workflow" data-toggle="collapse" class="btn btn-secondary collapsible"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

                <div id="firmware" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed collapse">
                    <div class="row">
                        <span class="nav-item">
                            <i href="#firmware" class="fa fa-2x fa-arrow-circle-left collapsible back-icon" data-toggle="collapse"></i>

                        </span>
                        <h3 style="margin-left: 11px; margin-top: 20px; margin-bottom: -10px;">Update Firmware</h3>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Firmware Version</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="FWver" name="FWver">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <input class="form-control m-input" id="FWdes">

                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Server Address</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="FWser" name="FWser">
                            </div>

                        </div>
                        <div class="col-lg-6">
                            <label>Firmware File</label><br />
                            <div class="input-group">

                                <div class="custom-file">

                                    <input type="file" class="custom-file-input" id="file" name="file"
                                           aria-describedby="inputGroupFileAddon01">
                                    <label class="custom-file-label" for="file">Choose firmware</label>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="PostDataFW()" class="btn btn-success"><i class="la la-save"></i> Submit</button>
                            <button type="reset" href="#firmware" data-toggle="collapse" class="btn btn-secondary collapsible"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

                <div id="config" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed collapse">
                    <div class="row">
                        <span class="nav-item">
                            <i href="#config" class="fa fa-2x fa-arrow-circle-left collapsible back-icon" data-toggle="collapse"></i>

                        </span>
                        <h3 style="">Device Configuration</h3>

                    </div>

                    <div class="form-group m-form__group row">

                        <div class="col-lg-6 col-sm-12 col-md-12 col-xs-12">


                            <div class="form-group">
                                <label for="SensorId">Sensor</label>
                                <select name="SensorId" id="SensorIdDropDownList" class="form-control"></select>
                            </div>

                        </div>

                        <div class="col-lg-6 col-sm-12 col-md-12 col-xs-12">
                            <div class="form-group">
                                <label for="GraphId">Graph</label>
                                <select name="GraphId" id="GraphIdDropDownlist" class="form-control"></select>
                            </div>

                        </div>

                    </div>

                    <div class="m-form__actions m-form__actions--solid">
                        <div class="row">
                            <div class="col-lg-6">
                                <button type="button" id="submit_DeviceSensorTemplate" class="btn btn-success"><i class="la la-save"></i> Submit</button>
                                <button type="reset" href="#workflow" data-toggle="collapse" class="btn btn-secondary collapsible"><i class="la la-refresh "></i> Cancel</button>

                            </div>
                            <div class="col-lg-6 m--align-right">

                            </div>
                        </div>
                    </div>

                </div>

                <div class="m-portlet m-portlet--mobile  m-portlet--rounded" id="HideAndShowTank">
                    <div class="m-portlet__body">

                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Tank Level &nbsp;&nbsp;&nbsp;
                            </h3>
                        </div>
                        <div class=" row">

                            <div class="col-8">
                                <div class="cup" id="cup">
                                </div>
                            </div>
                            <div class="col-4">
                                <a class="fa fa-level-down"></a>
                                @*<img src="~/Content/Images/tank.png" class="tank-image" />*@
                                <span id="tanklevelText" class="tank-text"></span>

                            </div>

                        </div>
                    </div>
                </div>


                <!-- Temprature Line Chart -->
                <div class="m-portlet m-portlet--mobile  m-portlet--rounded" id="HideAndShowLineChart">
                    <div class="m-portlet__body">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Device Temprature &nbsp;&nbsp;&nbsp;
                            </h3>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <center class="sensor-values">
                                    <img src="~/Content/Images/average.png" style="width:50%" />
                                    <h1 id="averageValue">-:-</h1>
                                    <h6>Average Temperature</h6>
                                </center>
                            </div>
                            <div class="col-4">
                                <center class="sensor-values">
                                    <img src="~/Content/Images/max.png" style="width:50%" />
                                    <h1 id="maxValue">-:-</h1>
                                    <h6>Maximum Temperature</h6>

                                </center>
                            </div>
                            <div class="col-4">
                                <center class="sensor-values">
                                    <img src="~/Content/Images/min.png" style="width:50%" />
                                    <h1 id="minValue">-:-</h1>
                                    <h6>Minimum Temperature</h6>
                                </center>
                            </div>

                        </div>
                        <div class="row ">

                            <div class="col-12">
                                <p class="text-center">
                                </p>
                                <div id="chartContainer" class="temp-chart"></div>
                            </div>
                            @*<div class="col-3">
                                    <span id="temperatureValue" class="temp-text"></span>
                                </div>*@

                        </div>
                    </div>
                </div>

                <!-- Medical -->

                <div class="row" id="HideAndShowLightOnOff">
                    <div class="col-xl-12">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                            <div class="m-portlet__body">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="m-portlet__head-title">
                                            <h3 class="m-portlet__head-text">
                                                Device Light On/Off &nbsp;&nbsp;&nbsp;
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="col-xs-12 toggle-button">
                                            <div class="btn-group" id="toggle_event_editing">
                                                <button type="button" class="btn btn-info locked_active">OFF</button>
                                                <button type="button" class="btn btn-default unlocked_inactive">ON</button>
                                            </div>
                                            <hr />
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 col-xs-6 col-sm-6 col-lg-6" id="HideAndShowLightOnOff1">
                                        <i class="la la-lightbulb-o text-center light-bulb" id="BulbOnOffId"></i>
                                    </div>
                                    <div class="col-xs-6">
                                        <i class="fa fa-lightbulb-o text-center light-bulb" id="BulbOnOffId"></i>
                                    </div>

                                </div>
                                <div class="col-xs-12" id="sliderHideAndShowOnLight">
                                    <hr />
                                    <div class="col-xs-2"></div>
                                    <div class="col-xs-8">
                                        <div class="slidecontainer">
                                            <input type="range" min="1" max="100" value="100" class="slider" id="myRange">
                                            <p>Value: <span id="myRangeValue"></span></p>
                                        </div>

                                    </div>
                                    <div class="col-xs-2"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--End::Section-->
                <!--Begin::Section-->

                <div class="row" id="HideAndShowMap">

                    <div class="col-xl-12">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">

                            <div class="m-portlet__body">
                                <div class="m-portlet__head-title">
                                    <h3 class="m-portlet__head-text">
                                        MAP &nbsp;&nbsp;&nbsp;
                                    </h3>
                                </div>
                                <div class="col-md-12">
                                    <p class="text-center">
                                    </p>
                                    <div id="routing-response" class="routing-response">
                                    </div>
                                    <div id="routing-error" class="routing-response">
                                    </div>
                                    <div id="routing-map"></div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>

                <!--End::Section-->
                <!--Device Medical-->
                <div class="row" id="HideAndShowMedical">
                    <div class="col-6">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                            <div class="m-portlet__body">
                                <div class="m-portlet__head-title">
                                    <h3 class="m-portlet__head-text">
                                        Heart Beat
                                    </h3>
                                </div>
                                <span id="counterb" class="row"></span>
                                <div class="row">

                                    <div class="heart-container">
                                        <div class='container'>
                                            <div class='card temp'>
                                                <div class='inner'>
                                                    @*<img src="~/Content/Images/img_491812.png" class="icons" />*@
                                                    <div class='title'>
                                                        <div class='text'>Heart Beat</div>
                                                    </div>
                                                    <span class='number' id="heartbeatvalue"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-6">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">

                            <div class="m-portlet__body">

                                <div class="m-portlet__head-title">
                                    <h3 class="m-portlet__head-text">
                                        Fever
                                    </h3>
                                </div>
                                <span id="counter" class="row"></span>
                                <div class="row">
                                    <div class="fever-container">
                                        <div id="wrapper">
                                            <div id="termometer">
                                                <div id="temperature" class="thermometer"></div>
                                                <div id="graduations"></div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="fever">
                                        <div class='container'>
                                            <div class='card temp'>
                                                <div class='inner'>
                                                    <div class='icon'></div>
                                                    <div class='title'>
                                                        <div class='text'>TEMPERATURE</div>
                                                    </div>
                                                    <span class='number' id="feverValue"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>


                        </div>
                    </div>
                </div>

                <div class="m-portlet m-portlet--mobile  m-portlet--rounded">

                    <div class="m-portlet__body">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Summary &nbsp;&nbsp;&nbsp;
                            </h3>
                        </div>
                        <br />
                        <div class="row">
                            <div class="Dinfo-box">
                                <span class="Dinfo-box-icon bg-aqua"><img src="/Content/Images/devices_image.png" style=" height: 90%" /></span>
                                <div class="Dinfo-box-content">
                                    <br />
                                    <div class="">
                                        <div class="row">
                                            <div class="col-6 device-item">
                                                <span>Mac</span>
                                            </div>
                                            <div class="col-6 device-item">
                                                <span>EMEI</span>

                                            </div>
                                        </div>
                                        <br />
                                        <div class="row" style="margin-top:-5px">
                                            <div class="col-6 device-item">
                                                <span id="MacVal"></span>
                                            </div>
                                            <div class="col-6 device-item">
                                                <span id="EmeiVal"></span>
                                            </div>
                                        </div>

                                        @*info *@
                                    </div>
                                    <br />
                                    <br />
                                    <div class="">
                                        <div class="row">
                                            <div class="col-6 device-item">
                                                <span>Latitude</span>
                                            </div>
                                            <div class="col-6 device-item">
                                                <span>Logitude</span>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row" style="margin-top:-5px">
                                            <div class="col-6 device-item">
                                                <span id="LatVal"></span>
                                            </div>
                                            <div class="col-6 device-item">
                                                <span id="LongVal"></span>
                                            </div>
                                        </div>
                                        @*info *@
                                    </div>
                                    <input type="hidden" id="Did" />
                                    <input type="hidden" id="macaddress" />

                                </div><!-- /.info-box-content -->
                            </div><!-- /.info-box -->

                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- End:Map Right Slider Modal -->
    </div>
</div>

<!-- Start:Map Right Slider Modal -->
<div class="modal fade modal-MapRightSlider-fade" id="MapRightSliderModalAsset" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 id="AssetTitle" class=" modal-header-title modal-header-custom-text" ">&nbsp;&nbsp;</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>


            </div>
            <div class="modal-body modal-body-MapRightSlider">
                <div class="m-portlet m-portlet--mobile  m-portlet--rounded" id="HideAndShowTankAsset">
                    <div class="col-xl-12">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                            <div class="m-portlet__body">
                                <div href="#Tank" class="m-portlet__head collapsible" data-toggle="collapse">
                                    <div class="m-portlet__head-caption">
                                        <div class="m-portlet__head-title" data-toggle="collapse">
                                            <h3 class="m-portlet__head-text">
                                                Tank Level &nbsp;&nbsp;&nbsp;
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="m-portlet__head-tools">
                                        <ul class="m-portlet__nav">
                                            <li class="m-portlet__nav-item">
                                                <i class="la la-angle-down"></i>
                                            </li>
                                        </ul>
                                    </div>

                                </div>

                                <div id="Tank" class=" row m-portlet__body collapse">
                                    <div class="col-8">
                                        <div class="cup" id="cup">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <a class="fa fa-level-down"></a>
                                        @*<img src="~/Content/Images/tank.png" class="tank-image" />*@
                                        <span id="tanklevelText" class="tank-text"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Temprature Line Chart -->
                <div class="m-portlet m-portlet--mobile  m-portlet--rounded" id="HideAndShowLineChartAsset">
                    <div class="col-xl-12">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                            <div class="m-portlet__body">

                                <div href="#Temperature" class="m-portlet__head collapsible" data-toggle="collapse">
                                    <div class="m-portlet__head-caption">
                                        <div class="m-portlet__head-title" data-toggle="collapse">
                                            <h3 class="m-portlet__head-text">
                                                Temperature &nbsp;&nbsp;&nbsp;
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="m-portlet__head-tools">
                                        <ul class="m-portlet__nav">
                                            <li class="m-portlet__nav-item">
                                                <i class="la la-angle-down"></i>
                                            </li>
                                        </ul>
                                    </div>

                                </div>

                                <div id="Temperature" class=" row m-portlet__body collapse">
                                    <div class="col-9">
                                        <p class="text-center">
                                        </p>
                                        <div id="chartContainer" class="temp-chart"></div>
                                    </div>
                                    <div class="col-3">
                                        <span id="temperatureValue" class="temp-text"></span>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Medical -->

                <div class="row" id="HideAndShowLightOnOffAsset">
                    <div class="col-xl-12">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                            <div class="m-portlet__body">
                                <div href="#Light" class="m-portlet__head collapsible" data-toggle="collapse">
                                    <div class="m-portlet__head-caption">
                                        <div class="m-portlet__head-title" data-toggle="collapse">
                                            <h3 class="m-portlet__head-text">
                                                Light On / Off &nbsp;&nbsp;&nbsp;
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="m-portlet__head-tools">
                                        <ul class="m-portlet__nav">
                                            <li class="m-portlet__nav-item">
                                                <i class="la la-angle-down"></i>
                                            </li>
                                        </ul>
                                    </div>

                                </div>

                                <div id="Light" class=" m-portlet__body collapse">
                                    <div class="row">
                                        <div class="col-md-6 col-xs-6 col-sm-6 col-lg-6" id="HideAndShowLightOnOff1">
                                            <i class="la la-lightbulb-o text-center light-bulb" id="BulbOnOffId"></i>
                                        </div>
                                        <div class="col-md-6 col-xs-6 col-sm-6 col-lg-6">
                                            <div class="col-xs-12 toggle-button">
                                                <div class="btn-group" id="toggle_event_editing">
                                                    <button type="button" class="btn btn-info locked_active">OFF</button>
                                                    <button type="button" class="btn btn-default unlocked_inactive">ON</button>
                                                </div>
                                                <hr />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12" id="sliderHideAndShowOnLight">
                                        <hr />
                                        <div class="col-xs-2"></div>
                                        <div class="col-xs-8">
                                            <div class="slidecontainer">
                                                <input type="range" min="1" max="100" value="100" class="slider" id="myRange">
                                                <p>Value: <span id="myRangeValue"></span></p>
                                            </div>

                                        </div>
                                        <div class="col-xs-2"></div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <!--End::Section-->
                <!--Begin::Section-->

                <div class="row" id="HideAndShowMapAsset">
                    <div class="col-xl-12">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                            <div class="m-portlet__body">

                                <div href="#Location" class="m-portlet__head collapsible" data-toggle="collapse">
                                    <div class="m-portlet__head-caption">
                                        <div class="m-portlet__head-title" data-toggle="collapse">
                                            <h3 class="m-portlet__head-text">
                                                Location &nbsp;&nbsp;&nbsp;
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="m-portlet__head-tools">
                                        <ul class="m-portlet__nav">
                                            <li class="m-portlet__nav-item">
                                                <i class="la la-angle-down"></i>
                                            </li>
                                        </ul>
                                    </div>

                                </div>

                                <div id="Location" class=" row m-portlet__body collapse">
                                    <div class="col-md-12">
                                        <p class="text-center">
                                        </p>
                                        <div id="routing-response" class="routing-response">
                                        </div>
                                        <div id="routing-error" class="routing-response">
                                        </div>
                                        <div id="routing-map"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--End::Section-->
                <!--Device Medical-->
                <div class="" id="HideAndShowMedicalAsset">
                    <div class="col-xl-12">
                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                            <div class="m-portlet__body">

                                <div href="#Medical" class="m-portlet__head collapsible" data-toggle="collapse">
                                    <div class="m-portlet__head-caption">
                                        <div class="m-portlet__head-title" data-toggle="collapse">
                                            <h3 class="m-portlet__head-text">
                                                Medical &nbsp;&nbsp;&nbsp;
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="m-portlet__head-tools">
                                        <ul class="m-portlet__nav">
                                            <li class="m-portlet__nav-item">
                                                <i class="la la-angle-down"></i>
                                            </li>
                                        </ul>
                                    </div>

                                </div>

                                <div id="Medical" class=" row m-portlet__body collapse">
                                    <div class="col-6">
                                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">
                                            <div class="">
                                                <div class="m-portlet__head-title">
                                                    <h3 class="m-portlet__head-text">
                                                        Heart Beat
                                                    </h3>
                                                </div>
                                                <span id="counterb" class="row"></span>
                                                <div class="row" style="margin-top:-20px">

                                                    <div class="heart-container">
                                                        <div class='container'>
                                                            <div class='card temp'>
                                                                <div class='inner'>
                                                                    @*<img src="~/Content/Images/img_491812.png" class="icons" />*@
                                                                    <div class='title'>
                                                                        <div class='text'>Heart Beat</div>
                                                                    </div>
                                                                    <span class='number' id="heartbeatvalue"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="m-portlet m-portlet--mobile  m-portlet--rounded">

                                            <div class="">

                                                <div class="m-portlet__head-title">
                                                    <h3 class="m-portlet__head-text">
                                                        Fever
                                                    </h3>
                                                </div>
                                                <span id="counter" class="row"></span>
                                                <div class="row" style="margin-top:-20px">
                                                    <div class="fever-container">
                                                        <div id="wrapper">
                                                            <div id="termometer">
                                                                <div id="temperature" class="thermometer"></div>
                                                                <div id="graduations"></div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="fever">
                                                        <div class='container'>
                                                            <div class='card temp'>
                                                                <div class='inner'>
                                                                    <div class='icon'></div>
                                                                    <div class='title'>
                                                                        <div class='text'>TEMPERATURE</div>
                                                                    </div>
                                                                    <span class='number' id="feverValue"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="m-portlet m-portlet--mobile  m-portlet--rounded">

                    <div class="m-portlet__body">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Summary &nbsp;&nbsp;&nbsp;
                            </h3>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-6">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Total Devices
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div class="counter">
                                            <i class="la la-money fa-2x"></i>
                                            <h2 id="TotalDevicesAssets" class="timer count-title count-number" data-to="" data-speed="1500"></h2>
                                            <p class="count-text ">Total Devices</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="m-portlet m-portlet--tab" style="background-color:#F7FCFF">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <span class="m-portlet__head-icon m--hide">
                                                    <i class="la la-gear"></i>
                                                </span>
                                                <h3 class="m-portlet__head-text">
                                                    Connected Devices
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="m-portlet__body">
                                        <div class="counter">
                                            <i class="la la-money fa-2x"></i>
                                            <h2 id="ConnectedDevicesAssets" class="timer count-title count-number" data-to="" data-speed="1500"></h2>
                                            <p class="count-text ">Connected Devices</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>


            </div>
        </div>
        <!-- End:Map Right Slider Modal -->
    </div>
</div>

<!-- begin::ModalForIBMList -->
<div class="modal fade" id="m_modal_IBMList" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="max-width:90% !important;">
        <div class="modal-content">

            <div class="m-portlet m-portlet--tabs">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-tools">
                        <ul class="nav nav-tabs m-tabs-line m-tabs-line--success m-tabs-line--2x" role="tablist">
                            <li class="nav-item m-tabs__item">
                                <a class="nav-link m-tabs__link active show" data-toggle="tab" href="#m_portlet_tab_IBMCloud" role="tab" aria-selected="true">
                                    <i class="la la-user-md"></i> IBM CLoud
                                </a>
                            </li>

                        </ul>
                    </div>
                </div>
                <div class="m-portlet m-portlet--mobile  m-portlet--rounded" id="m_portlet_tab_IBMCloudTable">



                </div>


                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>

            </div>

        </div>
    </div>
</div>

<!--opportunity Creation in Right Side Panel-->
<div class="modal fade modal-MapRightSlider-fade" id="CreateModule" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title modal-header-custom-text">Create Opportunity</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>


            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="opportunity" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Amount</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="OpportunityAmount" name="OpportunityAmount" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Prabability</label><br />

                            @Html.DropDownList("ProbabilityId", Model.ProbabilityDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "OpportunityProbabilty" })
                        </div>


                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Opportunity Stage</label><br />

                            @Html.DropDownList("OpportunityStageId", Model.OpportunityStageDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "OpportunityStage" })
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Title</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="OpportunityTitle" name="OpportunityTitle" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Currency</label><br />

                            @Html.DropDownList("CurrencyId", Model.CurrencyDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "OpportunityCurrency" })
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Status</label><br />

                            <div class="m-input-icon m-input-icon--right">
                                @Html.DropDownList("StatusId", Model.account.StatusDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "OpportunityStatus" })
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />

                            <div class="m-input-icon m-input-icon--right">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "OpportunityUser" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />

                            <div class="m-input-icon m-input-icon--right">
                                @Html.DropDownList("AssignedTeam", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "OpportunityTeam" })
                            </div>
                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="OpportunityDesc" name="OpportunityDesc" required>
                            </div>
                            <div class="m-input-icon m-input-icon--right">
                            </div>
                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="oppCreate()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>


            </div>
        </div>

        <!-- End:Map Right Slider Modal -->
    </div>
</div>
<!--Device Creation in Right Side Panel-->

<div class="modal fade modal-MapRightSlider-fade" id="Createdevice" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title" style="font-size:30px;padding-top:5px;">Create Device</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>


            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="Device" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Device Name</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="DeviceName" name="DeviceName" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Mac Address</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="DeviceMacadd" name="DeviceMacadd" required>
                            </div>
                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">EMEI Number</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="DeviceEmei" name="DeviceEmei" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Registration Date</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="DeviceReg" name="DeviceReg" type="date">
                            </div>

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Latitude</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="DeviceLat" name="DeviceLat">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Longitude</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="DeviceLong" name="DeviceLong">
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Customer Asset</label><br />

                            <div class="">
                                @Html.DropDownList("CustomerAssetId", Model.CustomerAssetDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "DeviceAsset" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "DeviceUser" })
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />

                            <div class="">
                                @Html.DropDownList("AssignedTeam", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "DeviceTeam" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Maintenance</label><br />

                            <div class="">
                                @Html.DropDownList("Maintenance", Model.MaintenanceDropdown, htmlAttributes: new { @class = "form-control", id = "DeviceMain" })
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Cloud Services</label><br />
                            <div class="">
                                @Html.DropDownList("CloudServices", Model.CloudServicesDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "DeviceCloud" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Status</label><br />
                            <div class="">
                                @Html.DropDownList("StatusId", Model.account.StatusDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", @id = "DeviceStatus" })
                            </div>
                        </div>
                    </div>



                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="deviceCreate()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- End:Device Right Slider Modal -->
    </div>
</div>

<!--Case Create-->
<div class="modal fade modal-MapRightSlider-fade" id="CreateCase" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title" style="font-size:30px;padding-top:5px;">Create Case</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>

            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="Device" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">


                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Case Title</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="CaseTitle" name="CaseTitle" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Case Type</label><br />

                            <div class="">
                                @Html.DropDownList("CaseType", Model.CaseTypeDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "CaseType" })
                            </div>
                        </div>


                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Case Contact</label><br />

                            <div class="">
                                @Html.DropDownList("CaseContact", Model.ContactsDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "Casecontact" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Origin</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="CaseOrigin" name="CaseOrigin" type="text">
                            </div>

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="CaseDescription">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />

                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, htmlAttributes: new { @class = "form-control", id = "CaseUser" })
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />

                            <div class="">
                                @Html.DropDownList("AssignedTeam", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "CaseTeam" })
                            </div>
                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="CaseCreateAccount()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- End:Device Right Slider Modal -->
    </div>
</div>

<!--Location Creation in Right Side Panel-->
<div class="modal fade modal-MapRightSlider-fade" id="CreateLocation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title" style="font-size:30px;padding-top:5px;">Create Location</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>

            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="location" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Name</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="LocationName" name="LocationName" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="LocationDesc" name="LocationDesc">
                            </div>
                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Latitude</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="LocationLat" name="LocationLat" type="number">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Longitude</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="LocationLong" name="LocationLong" type="number">
                            </div>

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />

                            <div class="">
                                @Html.DropDownList("AssignedTeam", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "LocationTeam" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "LocationUser" })
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Address</label><br />

                            @Html.DropDownList("AddressId", Model.account.AddressDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "LocationAdd" })

                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Status</label><br />
                            <div class="">
                                @Html.DropDownList("StatusId", Model.account.StatusDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", @id = "LocationStatus" })
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Location</label><br />
                            <div class="">
                                @Html.DropDownList("LocationTypeId", Model.LocationTypeDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "LocationLoc" })

                            </div>
                        </div>
                        <div class="col-lg-6">

                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="locationCreate()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- End:Device Right Slider Modal -->
    </div>
</div>

<!--Assets Creation in Right Side Panel-->
<div class="modal fade modal-MapRightSlider-fade" id="CreateAssets" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title modal-header-custom-text">Create Customer Assets</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>


            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="assets" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">


                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Title</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsTitle" name="AssetsTitle" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Asset Type</label><br />
                            @Html.DropDownList("CustomerAssetTypeId", Model.CustomerAssetTypeDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "AssetsType" })

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">LocationId</label><br />
                            <div class="">
                                @Html.DropDownList("LocationId", Model.LocationDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "AssetsLoc" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Status</label><br />
                            <div class="">
                                @Html.DropDownList("StatusId", Model.account.StatusDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", @id = "AssetsStatus" })

                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Manufacture</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsMan" name="AssetsMan">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Model</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsModel" name="AssetsModel">
                            </div>

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Year of Manufacture</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsYear" name="AssetsYear">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Asset value</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsVal" name="AssetsVal">
                            </div>

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Depriciated Value</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsDep" name="AssetsDep">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">SKU</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsSKU" name="AssetsSKU">
                            </div>

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "AssetsUser" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedTeam", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "AssetsTeam" })

                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="AssetsDesc" name="AssetsDesc">
                            </div>
                        </div>
                        <div class="col-lg-6">

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="AssetCreate()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- End:Device Right Slider Modal -->
    </div>
</div>

<!--Workorder Creation in Right Side Panel-->
<div class="modal fade modal-MapRightSlider-fade" id="CreateWorder" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title modal-header-custom-text">Create Workorder</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>


            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="worder" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">


                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Title</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="WorkOrderTitle" name="WorkOrderTitle" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="WorkOrderDesc" name="WorkOrderDesc">
                            </div>
                        </div>


                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">NTE</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="WorkOrderNTE" name="WorkOrderNTE">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Status</label><br />
                            <div class="">
                                @Html.DropDownList("StatusId", Model.account.StatusDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", @id = "WorkOrderStatus" })

                            </div>
                        </div>
                    </div>


                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", @id = "WorkOrderUser" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", @id = "WorkOrderTeam" })

                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Workorder Stage</label><br />
                            <div class="">
                                @Html.DropDownList("WorkOrderStageId", Model.WorkOrderStageDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", @id = "WorkOrderStage" })

                            </div>

                        </div>
                        <div class="col-lg-6">

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="workorderCreate()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- End:Device Right Slider Modal -->
    </div>
</div>

<!--Contact Creation in Right Side Panel-->
<div class="modal fade modal-MapRightSlider-fade" id="CreateContact" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title modal-header-custom-text">Create Contact</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>


            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="contact" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Name</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ContactName" name="ContactName" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Email</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ContactEmail" name="ContactEmail">
                            </div>
                        </div>


                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Phone</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ContactPhones" name="ContactPhones">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Address</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ContactAdd" name="ContactAdd">
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Created By</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ContactCrtd" name="ContactCrtd">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Updated By</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ContactUpdate" name="ContactUpdate">
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "ContactUser" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "ContactTeam" })

                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Status</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.StatusDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "ContactStatus" })

                            </div>

                        </div>
                        <div class="col-lg-6">

                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="contactCreate()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- End:Device Right Slider Modal -->
    </div>
</div>

<!--Activity Creation in Right Side Panel-->
<div class="modal fade modal-MapRightSlider-fade" id="CreateActivity" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-MapRightSlider-dialog modal-MapRightSlider-slideout" role="document">
        <div class="modal-content modal-content-MapRightSlider">
            <div class="modal-header modal-header-MapRightSlider">

                <h5 class=" modal-header-title modal-header-custom-text">Create Activity</h5>

                <button type="button" class="close modalMapRightSliderClose" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>

            </div>
            <div class="modal-body modal-body-MapRightSlider">

                <div id="activity" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed">


                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Name</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityName" name="ActivityName" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Description</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityDesc" name="ActivityDesc">
                            </div>
                        </div>


                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">ActivityPartyId</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityParty" name="ActivityParty">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">ActivityPointerId</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityPointer" name="ActivityPointer">
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Created By</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityCrtd" name="ActivityCrtd">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Created Date</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityCDate" name="ActivityCDate">
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Updated By</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityUpdate" name="ActivityUpdate">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Updated Date</label><br />
                            <div class="input-group">

                                <input class="form-control m-input" id="ActivityUDate" name="ActivityUDate">
                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Assigned User</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedUserDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "ActivityUser" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Assigned Team</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.AssignedTeamDropdown, "-- Select --", htmlAttributes: new { @class = "form-control m-input", id = "ActivityTeam" })

                            </div>
                        </div>
                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label class="control-label">Status</label><br />
                            <div class="">
                                @Html.DropDownList("AssignedUser", Model.account.StatusDropdown, "-- Select --", htmlAttributes: new { @class = "form-control", id = "ActivityStatus" })

                            </div>

                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Activity Type</label><br />
                            <div class="">
                                @Html.DropDownList("Type", Model.ActivityTypeDropdown, "Select Type", new { @class = "form-control", id = "ActivityType" })

                            </div>
                        </div>

                    </div>

                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <button type="button" onclick="activityCreate()" class="btn btn-success "><i class="la la-save"></i> Submit</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="la la-refresh "></i> Cancel</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <!-- End:Device Right Slider Modal -->
    </div>
</div>

@section scripts{

    @*dashboard*@
<script>

        $(document).ready(function () {
            var userRole = '@(Roles.IsUserInRole("Administrator") ? "true" : "false")';

            var accountId = document.getElementById("accID").textContent;
            var obj = { accountId: accountId };
            //devices
            var devicemarkers = [];

            $.ajax({
                type: "GET",
                url: "/Devices/GetsingledevicesLongLat?accountId=" + accountId,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    for (var i = 0; i < response.length; i++) {
                        var obj = {
                            latLng: [response[i].Latitude, response[i].Longitude], name: response[i].Name,
                            mac: response[i].Mac, EMEI: response[i].EMEI, lat: response[i].Latitude, long: response[i].Longitude,
                            cloud: response[i].CloudServices, data: response[i].CloudData, id: response[i].deviceID, style: { r: 5 }
                        }
                        devicemarkers.push(obj);
                    }
                },
                failure: function () {
                    alert("Failed!");
                }
            });
            //Device Map configuration

            var deviceMapObj = new jvm.Map({
                container: $('#AccountDevicesMap'),
                map: 'world_mill_en',
                backgroundColor: "transparent",
                regionStyle: {
                    initial: {
                        fill: '#7fceff',
                        "fill-opacity": 1,
                        stroke: 'none',
                        "stroke-width": 0,
                        "stroke-opacity": 1
                    },
                    hover: {
                        "fill-opacity": 0.8,
                        cursor: 'pointer'
                    },
                    selected: {
                        fill: 'yellow'
                    },
                    selectedHover: {
                    }
                },
                markers: devicemarkers,
                onMarkerClick: function (event, index) {

                    MapRightSlider(devicemarkers[index].EMEI, devicemarkers[index].lat,
                        devicemarkers[index].long, devicemarkers[index].mac, devicemarkers[index].name, devicemarkers[index].cloud, devicemarkers[index].data, devicemarkers[index].id);
                }

            });

            deviceMapObj.addMarkers(devicemarkers, []);
            //Next
            var costDataPoints = [];
            $.ajax({
                type: "GET",
                url: "/Accounts/GetAccountCost",
                data: obj,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    for (var i = 0; i < response.length; i++) {
                        var obj = { label: resolvedate(response[i].Date), y: parseInt(response[i].Cost1) }
                        costDataPoints.push(obj);
                    }
                },
                failure: function () {
                    alert("Failed!");
                }
            });

            var open = document.getElementById("oppOpen").textContent;
            var closed = document.getElementById("oppLost").textContent;
            var won = document.getElementById("oppLostWon").textContent;

            var chartsales = new CanvasJS.Chart("salesChart2", {
                animationEnabled: true,
                backgroundColor: "transparent",
                height: 350,
                title: {
                },
                legend: {
                    cursor: "pointer",
                    verticalAlign: "bottom",
                    horizontalAlign: "center",
                    itemclick: explodePie
                },
                data: [{
                    type: "pie",
                    showInLegend: true,
                    toolTipContent: "{name}: <strong>{y}%</strong>",
                    indexLabel: "{name} - {y}%",
                    dataPoints: [
                        { y: open, name: "Open", exploded: true },
                        { y: closed, name: "Closed as Lost" },
                        { y: won, name: "Closed as Won" }
                    ]
                }]
            });
            chartsales.render();

            $('#devices_tab_4').on("shown.bs.tab", function () {
                alert('i am alert');
            });

            //var Powerconsumptionchartacc = new CanvasJS.Chart("costchart", {
            //    theme: "light2",
            //    animationEnabled: true,
            //    backgroundColor: "transparent",
            //    height: 200,
            //    title: {
            //    },
            //    axisY: {
            //        includeZero: false,
            //        title: "Cost",
            //        suffix: "$"
            //    },
            //    toolTip: {
            //        shared: "true"
            //    },
            //    legend: {
            //        cursor: "pointer",
            //        itemclick: toggleDataSeries
            //    },
            //    data: [
            //        {
            //            type: "spline",
            //            lineColor: "orange",
            //            showInLegend: true,
            //            legendMarkerColor: "orange",
            //            yValueFormatString: "##.00$",
            //            name: "Consumptions",
            //            dataPoints: costDataPoints
            //        }
            //    ]
            //});
            //Powerconsumptionchartacc.render();

            function toggleDataSeries(e) {
                if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                    e.dataSeries.visible = false;
                } else {
                    e.dataSeries.visible = true;
                }

            }




            //For tracking map
            jQuery.support.cors = true;

            var host;
            var defaultKey = "f8be18e9-3ab7-4874-9520-b385c841d82f";
            var profile = "car";

            // create a routing client to fetch real routes, elevation.true is only supported for vehicle bike or foot
            var ghRouting = new GraphHopper.Routing({ key: defaultKey, host: host, vehicle: profile, elevation: false });


            //var routingMap = createMaps('routing-map');
            //var routingMaps = createMaps('routing-maps');

            //setupRoutingAPI(routingMap, ghRouting);
            //setupRoutingAPI(routingMaps, ghRouting);

            //$('#MapRightSliderModal').on('shown.bs.modal', function () {

            //    setTimeout(function () {
            //        routingMap.invalidateSize();
            //    }, 10);
            //});



        });

        function LoadOppMap() {

            setTimeout(function () {

            //Opportuynities for account on MAP
            var oppmarkers = [];
            var accountId = document.getElementById("accID").textContent;
            $.ajax({
                type: "GET",
                url: "/Accounts/GetAccountOpportunitiesLongLat?accountId=" + accountId,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    for (var i = 0; i < response.length; i++) {
                        var obj = { latLng: [response[i].Latitude, response[i].Longitude], name: response[i].Name, id: response[i].OpportunityId, style: { r: 5 } }
                        oppmarkers.push(obj);
                    }
                },
                failure: function () {
                    alert("Failed!");
                }
            });

            $('#AccountOpportunitiesMap').empty();

            var OpportunitiesMapObj = new jvm.Map({
                container: $('#AccountOpportunitiesMap'),
                map: 'world_mill_en',
                backgroundColor: "transparent",
                regionStyle: {
                    initial: {
                        fill: '#7fceff',
                        "fill-opacity": 1,
                        stroke: 'none',
                        "stroke-width": 0,
                        "stroke-opacity": 1
                    },
                    hover: {
                        "fill-opacity": 0.8,
                        cursor: 'pointer'
                    },
                    selected: {
                        fill: 'yellow'
                    },
                    selectedHover: {
                    }
                },
                markers: oppmarkers,
                onMarkerClick: function (event, index) {

                    LoadOpportunityOnId(oppmarkers[index].id);
                }
            });
            OpportunitiesMapObj.addMarkers(oppmarkers, []);
            }, 1);

                //Opportuynities for account on MAP
        }

        function LoadCasesMap() {
            var accountId = document.getElementById("accID").textContent;
            var obj = { accountId: accountId };
            setTimeout(function () {
                //Device Map configuration
                var Cdevicemarkers = [];
                $.ajax({
                    type: "GET",
                    url: "/Accounts/GetAllAcocuntDevicesCases",
                    data: obj,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        console.log("a");
                        console.log(response);
                        console.log(response.length);
                        for (var i = 0; i < response.length; i++) {

                            var objs = {
                                latLngs: [response[i].dLat, response[i].dLong], name: response[i].CaseTitle, caseid: response[i].CaseId, style: { r: 5 }
                            }
                            console.log("objs");
                            console.log(objs);
                            Cdevicemarkers.push(objs);
                        }
                    },
                    failure: function () {
                        alert("Failed!");
                    }
                });
                $('#CaseMap').empty();
                console.log("dev");
                console.log(Cdevicemarkers);
                console.log("dev");
                var CdeviceMapObj = new jvm.Map({
                    container: $('#CaseMap'),
                    map: 'world_mill_en',
                    backgroundColor: "transparent",
                    regionStyle: {
                        initial: {
                            fill: '#7fceff',
                            "fill-opacity": 1,
                            stroke: 'none',
                            "stroke-width": 0,
                            "stroke-opacity": 1
                        },
                        hover: {
                            "fill-opacity": 0.8,
                            cursor: 'pointer'
                        },
                        selected: {
                            fill: 'yellow'
                        },
                        selectedHover: {
                        }
                    },
                    markers: Cdevicemarkers,
                    onMarkerClick: function (event, index) {
                        LoadModalForDetails_Case(Cdevicemarkers[index].caseid);

                    }


                });

                //fetch device markers for all devices

                CdeviceMapObj.addMarkers(Cdevicemarkers, []);
            }, 1);
        }

        function LoadDeviceMaps() {

       

             var accountId = document.getElementById("accID").textContent;
            setTimeout(function () {
               
                //Cost Charts
                var CostsDataPoints = [];
                $.ajax({
                    type: "GET",
                    url: "/Accounts/GetAccountCost?AccountId=" + accountId,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        console.log(response);
                        for (var i = 0; i < response.length; i++) {
                            var obj = { label: resolvedate(response[i].Date), y: response[i].Cost1, color: "orange" }
                            CostsDataPoints.push(obj);
                        }
                    },
                    failure: function () {
                        alert("Failed!");
                    }
                });

                var Costschart = new CanvasJS.Chart("accountcostchart", {
                    theme: "light2",
                    animationEnabled: true,
                    backgroundColor: "transparent",
                    title: {
                        // text: "Game of Thrones Viewers of the First Airing on HBO"
                    },
                    axisY: {
                        includeZero: false,
                        title: "Cost",
                        suffix: "$"
                    },
                    toolTip: {
                        shared: "true"
                    },
                    legend: {
                        cursor: "pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [
                        {
                            type: "spline",
                            lineColor: "orange",
                            showInLegend: true,
                            legendMarkerColor: "orange",
                            yValueFormatString: "##.00$",
                            name: "Consumptions",
                            dataPoints: CostsDataPoints
                        }
                    ]
                });
                Costschart.render();
                //End Cost Line Chart


                //Asset chart
                var boiler, engine, gen, proj, tours;
                $.ajax({
                    type: "GET",
                    url: "/CustomerAssets/GetAccountAssetTypes?AccountId="+accountId,
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        boiler = response.Boiler;
                        engine = response.Engine;
                        gen = response.Generator;
                        proj = response.Projector;
                        tours = response.Tours;

                    },
                    failure: function () {
                        alert("Failed!");
                    }
                });

                var Assetschart = new CanvasJS.Chart("AccountAssetschart", {
                    //exportEnabled: true,
                    animationEnabled: true,
                    backgroundColor: "transparent",
                    title: {
                        //text: "Sales Chart"
                    },
                    legend: {
                        cursor: "pointer",
                        verticalAlign: "center",
                        horizontalAlign: "right",
                        itemclick: explodePie
                    },
                    data: [{
                        type: "pie",
                        showInLegend: true,
                        toolTipContent: "{name}: <strong>{y}%</strong>",
                        indexLabel: "{name} - {y}%",
                        dataPoints: [
                            { y: boiler, name: "boiler", color: "green" },
                            { y: engine, name: "Engin" },
                            { y: gen, name: "Generator", color: "yellow" },
                            { y: proj, name: "Projector", color: "blue" },
                            { y: tours, name: "Tours", color: "purple" }
                        ]
                    }]
                });
                Assetschart.render();
                //End Asset chart


                //Disconnections Chart

                var disconnectiondatapoints = [];
                $.ajax({
                    type: "GET",
                    url: "/Devices/GetAccountDisconnectionList?AccountId=" + accountId,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        for (var i = 0; i < response.length; i++) {
                            var obj = { label: resolvedate(response[i].date), y: response[i].Value, color: "orange" }

                            disconnectiondatapoints.push(obj);
                        }
                    },
                    failure: function () {
                        alert("Failed!");
                    }
                });

                var Disconnectionchart = new CanvasJS.Chart("AccountDisconnectionchart", {
                    height: 150,
                    theme: "light2",
                    backgroundColor: "transparent",
                    animationEnabled: true,
                    title: {
                    },
                    axisY: {
                        includeZero: false,
                        title: "Disconnections",
                        suffix: "--"
                    },
                    toolTip: {
                        shared: "true"
                    },
                    legend: {
                        cursor: "pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [
                        {
                            type: "spline",
                            lineColor: "orange",
                            showInLegend: true,
                            legendMarkerColor: "orange",
                            yValueFormatString: "##",
                            name: "Disconnectivity",
                            dataPoints: disconnectiondatapoints
                        }
                    ]
                });
                Disconnectionchart.render();
                //End Disconnetion Chart


                //Channel Graph

                var mqtt, http, lorawan, cellular, ethernet, wifi;

                $.ajax({
                    type: "GET",
                    url: "/Devices/GetCounts",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        mqtt = response.MQTT;
                        http = response.HTTP;
                        lorawan = response.LORAWAN;
                        cellular = response.CELLULAR;
                        ethernet = response.ETHERNET;
                        wifi = response.WIFI;


                    },
                    failure: function () {
                        alert("Failed!");
                    }
                });

                var channelschart = new CanvasJS.Chart("Accountchannelschart", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "light2", "dark1", "dark2"
                    backgroundColor: "transparent",
                    title: {
                        //text: "Top Oil Reserves"
                    },
                    axisY: {
                        title: "Channels"
                    },
                    data: [{
                        type: "column",
                        showInLegend: true,
                        legendMarkerColor: "grey",
                        legendText: "channels",
                        dataPoints: [
                            { y: wifi, label: "Wi-Fi" },
                            { y: cellular, label: "Cellular" },
                            { y: http, label: "HTTP" },
                            { y: mqtt, label: "MQTT" },
                            { y: ethernet, label: "Ethernet" },
                            { y: lorawan, label: "LoraWAN" },
                        ]
                    }]
                });
                channelschart.render();
                //End Channels Graph

            }, 1);


        }

        function resolvedate(DateValue) {
            console.log(DateValue);
            var DateVal = new Date(parseInt(DateValue.substr(6)));
            var dd = DateVal.getDate();

            var mm = DateVal.getMonth();
            var yyyy = DateVal.getFullYear();
            if (dd < 10) {
                dd = '0' + dd;
            }

            if (mm < 10) {
                mm = '0' + mm;
            }

            date = mm + '/' + dd + '/' + yyyy;
            return date;
        }

        function toggleDataSeries(e) {
            if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                e.dataSeries.visible = false;
            } else {
                e.dataSeries.visible = true;
            }

        }


        function explodePie(e) {
            if (typeof (e.dataSeries.dataPoints[e.dataPointIndex].exploded) === "undefined" || !e.dataSeries.dataPoints[e.dataPointIndex].exploded) {
                e.dataSeries.dataPoints[e.dataPointIndex].exploded = true;
            } else {
                e.dataSeries.dataPoints[e.dataPointIndex].exploded = false;
            }
            e.chart.render();
        }
        //Map tracking Start PART 2


        var iconObject = L.icon({
            iconUrl: '/Content/Metronic/vendors/graphhopper/img/marker-icon.png',
            shadowSize: [50, 64],
            shadowAnchor: [4, 62],
            iconAnchor: [12, 40]
        });

        function setupRoutingAPI(map, ghRouting) {

            map.setView([31.520, 74.3587], 12);

            var instructionsDiv = $("#instructions");

            map.on('click', function (e) {
                if (ghRouting.points.length > 1) {
                    ghRouting.clearPoints();
                    routingLayer.clearLayers();
                }
                //Lahore
                e.latlng.lat = 31.520;
                e.latlng.lng = 74.3587;

                L.marker([31.20, 74.3587], { icon: iconObject }).addTo(routingLayer);

                //Karachi
                e.latlng.lat = 24.8607;
                e.latlng.lng = 67.0011;
                L.marker(e.latlng, { icon: iconObject }).addTo(routingLayer);

                // ghRouting.addPoint(new GHInput(e.latlng.lat, e.latlng.lng));
                ghRouting.addPoint(new GHInput(31.5204, 74.3587));
                ghRouting.addPoint(new GHInput(24.8607, 67.0011));

                if (ghRouting.points.length > 1) {
                    // ******************
                    //  Calculate route!
                    // ******************
                    ghRouting.doRequest()
                        .then(function (json) {
                            var path = json.paths[0];
                            routingLayer.addData({
                                "type": "Feature",
                                "geometry": path.points
                            });
                            var outHtml = "Distance in meter:" + path.distance;
                            outHtml += "<br/>Times in seconds:" + path.time / 1000;
                            outHtml += "<br/><a href='" + ghRouting.getGraphHopperMapsLink() + "'>GraphHopper Maps</a>";
                            $("#routing-response").html(outHtml);

                            if (path.bbox) {
                                var minLon = path.bbox[0];
                                var minLat = path.bbox[1];
                                var maxLon = path.bbox[2];
                                var maxLat = path.bbox[3];
                                var tmpB = new L.LatLngBounds(new L.LatLng(minLat, minLon), new L.LatLng(maxLat, maxLon));
                                map.fitBounds(tmpB);
                            }

                            instructionsDiv.empty();
                            if (path.instructions) {
                                var allPoints = path.points.coordinates;
                                var listUL = $("<ol>");
                                instructionsDiv.append(listUL);
                                for (var idx in path.instructions) {
                                    var instr = path.instructions[idx];

                                    // use 'interval' to find the geometry (list of points) until the next instruction
                                    var instruction_points = allPoints.slice(instr.interval[0], instr.interval[1]);

                                    // use 'sign' to display e.g. equally named images

                                    $("<li>" + instr.text + " <small>(" + ghRouting.getTurnText(instr.sign) + ")</small>" +
                                        " for " + instr.distance + "m and " + Math.round(instr.time / 1000) + "sec" +
                                        ", geometry points:" + instruction_points.length + "</li>").appendTo(listUL);
                                }
                            }

                        })
                        .catch(function (err) {
                            var str = "An error occured: " + err.message;
                            $("#routing-response").text(str);
                        });
                }
            });

            //start

            //End

            var instructionsHeader = $("#instructions-header");
            instructionsHeader.click(function () {
                instructionsDiv.toggle();
            });

            var routingLayer = L.geoJson().addTo(map);
            routingLayer.options = {
                style: { color: "#00cc33", "weight": 5, "opacity": 0.6 }
            };
        }



</script>

    @*Configure device*@

    <script>
        function LoadDropdowns() {
            GetGraphDropDownData();
            GetSensorDropDownData();
        }


        function GetGraphDropDownData() {
            $.ajax({
                type: "GET",
                url: "/Devices/GetGraphDropDownList",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    $('#GraphIdDropDownlist').html('');
                    var options = '';
                    options += '<option value="Select">Select</option>';
                    for (var i = 0; i < response.length; i++) {
                        options += '<option value="' + response[i].GraphId + '">' + response[i].GraphName + '</option>';
                    }
                    $('#GraphIdDropDownlist').append(options);
                },
                failure: function () {
                    alert("Failed!");
                }
            });
        }

        function GetSensorDropDownData() {
            $.ajax({
                type: "GET",
                url: "/Devices/GetSensorDropDownList",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    $('#SensorIdDropDownList').html('');
                    var options = '';
                    options += '<option value="Select">Select</option>';
                    for (var i = 0; i < response.length; i++) {
                        options += '<option value="' + response[i].SensorId + '">' + response[i].SensorName + '</option>';
                    }
                    $('#SensorIdDropDownList').append(options);
                },
                failure: function () {
                    alert("Failed!");
                }
            });
        }

        $('#submit_DeviceSensorTemplate').on("click", function () {


            $('#submit_DeviceSensorTemplate').attr('disabled', 'disabled');
            $('#submit_DeviceSensorTemplate').html('Please wait..');

            var DeviceId = document.getElementById("Did").textContent;
            var SensorId = $('#SensorIdDropDownList').val();
            var GraphId = $('#GraphIdDropDownlist').val();

            if (SensorId == "Select" || SensorId == null) {
                alert("Please Select a Device Sensor.");
                $('#submit_DeviceSensorTemplate').removeAttr('disabled');
                $('#submit_DeviceSensorTemplate').html('Submit');
                return false;
            }
            else if (GraphId == null || GraphId == "Select") {
                alert("pleae select a Device Graph.");
                $('#submit_DeviceSensorTemplate').removeAttr('disabled');
                $('#submit_DeviceSensorTemplate').html('Submit');
                return false;
            }

            var obj = { DeviceId: DeviceId, SensorId: SensorId, GraphId: GraphId };
            $.ajax({
                type: "GET",
                url: "/Devices/SubmitDeviceSensorGraph",
                data: obj,
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    if (response == "error") {
                        toastr.warning("Device Sensor Graph is not Saved. Please Refresh the page.");
                    }
                    else {
                        toastr.success("Device Sensor Graph is saved successfully.");
                        $("#config").hide();

                    }

                },
                failure: function () {
                    alert("Failed!");
                }
            });





        });



    </script>

    @*IBM Cloud*@
    <script>
        var CloudSynchronize = function () {
            IBMCloudSynchronize();
        }

        var IBMCloudSynchronize = function () {

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/Devices/SynchronizedWithIBM",
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('#m_modal_IBMList').modal('show');

                    $('#m_portlet_tab_IBMCloudTable').html('').html(response);

                    $('#m_table_ibm').DataTable({
                        responsive: true,
                        "bPaginate": true,
                        "bFilter": false,
                        "bInfo": false,
                        "pageLength": 5,
                        "lengthChange": false,
                        "lengthMenu": [[5, 10, 15, -1], [5, 10, 15, "All"]],
                    });

                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });

        }


    </script>

    @*Modules Creation*@
    <script>
        var deviceCreate = function () {
            var accID = document.getElementById("accID").textContent;

            var name = document.getElementById("DeviceName").value;
            var macAdd = document.getElementById("DeviceMacadd").value;
            var emei = document.getElementById("DeviceEmei").value;
            var reg = document.getElementById("DeviceReg").value;
            var lat = document.getElementById("DeviceLat").value;
            var long = document.getElementById("DeviceLong").value;
            var asset = $('#DeviceAsset option:selected').val();
            var user = $('#DeviceUser option:selected').val();
            var team = $('#DeviceTeam option:selected').val();
            var main = $('#DeviceMain option:selected').val();
            var cloud = $('#DeviceCloud option:selected').val();
            var status = $('#DeviceStatus option:selected').val();

            var obj = { Name: name, Mac: macAdd, EMEI: emei, Reg: reg, Lat: lat, Long: long, Asset: asset, User: user, Team: team, Main: main, Cloud: cloud, Status: status, AccID: accID };
            $.ajax({
                type: "POST",
                url: "/Devices/CreatefromAccount",
                data: obj,
                dataType: "text",
                success: function (response) {
                    if (response == "error") {
                        ("Failed to update on mqtt.");
                    }
                    else {
                        alert("Failed to update on mqtt.");
                    }
                },
                failure: function () {
                    alert("Failed!");
                }
            })
            $('#Createdevice').modal('hide');
            ReloadJstree();
        }
        var treeData;
        var ReloadJstree = function () {
            var accID = document.getElementById("accID").textContent;
            //$('#jstree1').html('').html('');
            $('#jstree1').jstree("destroy");

            $.ajax({
                type: "GET",
                url: "/Accounts/PartialTreeView",
                data: { id: accID },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('#jstree1').html('').html(response);
                    $('#jstree1').jstree({
                        "core": {
                            "multiple": true,
                            "check_callback": true,
                            'themes': {
                                "responsive": true,
                                'variant': 'larg',
                                'stripes': false,
                                'dots': false,
                                'icons': false
                            }

                        },
                        "types": {
                            "default": {

                            },
                            "file": {
                                "icon": "fa fa-microchip icon-state-warning icon-lg"
                            }
                        },
                        "plugins": ["dnd", "state", "types", "sort"]
                    });


                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });




        }

        var CaseCreateAccount = function () {
            var accID = document.getElementById("accID").textContent;
            var CaseTitle = document.getElementById("CaseTitle").value;
            var CaseDescription = document.getElementById("CaseDescription").value;
            var Origin = document.getElementById("CaseOrigin").value;
            var CaseType = $('#CaseType option:selected').val();
            var CaseContact = $('#Casecontact option:selected').val();
            var CaseUser = $('#CaseUser option:selected').val();
            var CaseTeam = $('#CaseTeam option:selected').val();
            CaseCreate("Account", accID, CaseTitle, CaseType, CaseDescription, CaseContact, CaseTeam, CaseUser, Origin);
            $('#CreateCase').modal('hide');
            $('#CaseDetails').html('').html('');
            $.ajax({
                type: "GET",
                url: "/Accounts/PartialCasesView",
                data: { id: accID },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('#CaseDetails').html('').html(response);
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });

        }

        var locationCreate = function () {
            var accID = document.getElementById("accID").textContent;

            var name = document.getElementById("LocationName").value;
            var desc = document.getElementById("LocationDesc").value;
            var lat = document.getElementById("LocationLat").value;
            var long = document.getElementById("LocationLong").value;
            var user = $('#LocationUser option:selected').val();
            var team = $('#LocationTeam option:selected').val();
            var loc = $('#LocationLoc option:selected').val();
            var add = $('#LocationAdd option:selected').val();
            var status = $('#LocationStatus option:selected').val();

            var obj = { Name: name, Desc: desc, Lat: lat, Long: long, User: user, Team: team, Loc: loc, Add: add, Status: status, AccID: accID };
            $.ajax({
                type: "POST",
                url: "/Locations/CreateLfromAccount",
                data: obj,
                dataType: "text",
                success: function (response) {
                    alert(response);
                    if (response == "\"success\"") {
                        //("Failed to update on mqtt.");
                        $('#CreateLocation').modal('hide');
                        ReloadJstree();
                    }
                    else {

                        alert("Failed to update on mqtt.");
                    }

                },
                failure: function () {
                    alert("Failed!");
                }
            })


        }

        var AssetCreate = function () {
            var accID = document.getElementById("accID").textContent;

            var title = document.getElementById("AssetsTitle").value;
            var desc = document.getElementById("AssetsDesc").value;
            var man = document.getElementById("AssetsMan").value;
            var model = document.getElementById("AssetsModel").value;
            var year = document.getElementById("AssetsYear").value;
            var val = document.getElementById("AssetsVal").value;
            var dep = document.getElementById("AssetsDep").value;
            var sku = document.getElementById("AssetsSKU").value;
            var user = $('#AssetsUser option:selected').val();
            var team = $('#AssetsTeam option:selected').val();
            var loc = $('#AssetsLoc option:selected').val();
            var type = $('#AssetsType option:selected').val();
            var status = $('#AssetsStatus option:selected').val();

            var obj = { Title: title, Desc: desc, User: user, Team: team, Loc: loc, Man: man, Status: status, Model: model, Year: year, Val: val, Dep: dep, SKU: sku, Type: type, AccID: accID };
            $.ajax({
                type: "POST",
                url: "/CustomerAssets/CreateAfromAccount",
                data: obj,
                dataType: "text",
                success: function (response) {
                    if (response == "error") {
                        ("Failed to update on mqtt.");
                    }
                    else {
                        alert("Failed to update on mqtt.");
                    }

                },
                failure: function () {
                    alert("Failed!");
                }
            })
            $('#CreateAssets').modal('hide');
            ReloadJstree();

        }

        var contactCreate = function () {
            var accID = document.getElementById("accID").textContent;

            var name = document.getElementById("ContactName").value;
            var email = document.getElementById("ContactEmail").value;
            var phone = document.getElementById("ContactPhones").value;
            var add = document.getElementById("ContactAdd").value;
            var create = document.getElementById("ContactCrtd").value;
            var update = document.getElementById("ContactUpdate").value;
            var user = $('#ContactUser option:selected').val();
            var team = $('#ContactTeam option:selected').val();
            var status = $('#ContactStatus option:selected').val();
            var obj = { Name: name, Email: email, Phone: phone, Add: add, Create: create, Update: update, CUser: user, Team: team, Status: status, AccID: accID };
            $.ajax({
                type: "POST",
                url: "/Contact/CreateCfromAccount",
                data: obj,
                dataType: "text",
                success: function (response) {


                },
                failure: function () {
                    alert("Failed!");
                }
            })
            $('#CreateContact').modal('hide');
            $('#contactDetails').html('').html('');

            $.ajax({
                type: "GET",
                url: "/Accounts/PartialContactView",
                data: { id: accID },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    //$('.modal-content').html('').html(response);
                    $('#contactDetails').html('').html(response);

                    //$('.modal-content-rightside').html('').html(response);
                    //$("#loader").css("display", "none");
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var oppCreate = function () {
            var accID = document.getElementById("accID").textContent;

            var amount = document.getElementById("OpportunityAmount").value;
            var desc = document.getElementById("OpportunityDesc").value;
            var title = document.getElementById("OpportunityTitle").value;
            var user = $('#OpportunityUser option:selected').val();
            var team = $('#OpportunityTeam option:selected').val();
            var status = $('#OpportunityStatus option:selected').val();
            var prob = $('#OpportunityProbabilty option:selected').val();
            var stage = $('#OpportunityStage option:selected').val();
            var curr = $('#OpportunityCurrency option:selected').val();
            var obj = { Amount: amount, Desc: desc, Title: title, OUser: user, Team: team, Status: status, Prob: prob, Stage: stage, Curr: curr, AccID: accID };
            $.ajax({
                type: "POST",
                url: "/Opportunities/CreateOfromAccount",
                data: obj,
                dataType: "text",
                success: function (response) {

                },
                failure: function () {
                    alert("Failed!");
                }
            })
            $('#CreateModule').modal('hide');
            $('#opportunityDetails').html('').html('');
            $.ajax({
                type: "GET",
                url: "/Accounts/PartialopportunityView",
                data: { id: accID },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('#opportunityDetails').html('').html(response);
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var workorderCreate = function () {
            var accID = document.getElementById("accID").textContent;

            var title = document.getElementById("WorkOrderTitle").value;
            var desc = document.getElementById("WorkOrderDesc").value;
            var nte = document.getElementById("WorkOrderNTE").value;
            var user = $('#WorkOrderUser option:selected').val();
            var team = $('#WorkOrderTeam option:selected').val();
            var status = $('#WorkOrderStatus option:selected').val();
            var stage = $('#WorkOrderStage option:selected').val();

            var obj = { Title: title, Desc: desc, NTE: nte, WOUser: user, Team: team, Status: status, Stage: stage, AccID: accID };
            $.ajax({
                type: "POST",
                url: "/WorkOrders/CreateWOfromAccount",
                data: obj,
                dataType: "text",
                success: function (response) {

                },
                failure: function () {
                    alert("Failed!");
                }
            })
            $('#CreateWorder').modal('hide');
            $('#workordersDetails').html('').html('');
            $.ajax({
                type: "GET",
                url: "/Accounts/PartialWorkordersView",
                data: { id: accID },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('#workordersDetails').html('').html(response);
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var activityCreate = function () {
            var accID = document.getElementById("accID").textContent;

            var name = document.getElementById("ActivityName").value;
            var desc = document.getElementById("ActivityDesc").value;
            var party = document.getElementById("ActivityParty").value;
            var pointer = document.getElementById("ActivityPointer").value;
            var create = document.getElementById("ActivityCrtd").value;
            var cdate = document.getElementById("ActivityCDate").value;
            var update = document.getElementById("ActivityUpdate").value;
            var udate = document.getElementById("ActivityUDate").value;
            var user = $('#ActivityUser option:selected').val();
            var team = $('#ActivityTeam option:selected').val();
            var status = $('#ActivityStatus option:selected').val();
            var type = $('#ActivityType option:selected').val();

            var obj = { Name: name, Desc: desc, Party: party, Pointer: pointer, Create: create, CDate: cdate, Update: update, UDate: udate, AUser: user, Team: team, Status: status, Type: type, AccID: accID };
            $.ajax({
                type: "POST",
                url: "/Activities/CreateAfromAccount",
                data: obj,
                dataType: "text",
                success: function (response) {
                    if (response == "error") {
                        ("Failed to update on mqtt.");
                    }
                    else {
                        alert("Failed to update on mqtt.");
                    }

                },
                failure: function () {
                    alert("Failed!");
                }
            })
            $('#CreateActivity').modal('hide');
            $('#activityDetails').html('').html('');
            $.ajax({
                type: "GET",
                url: "/Accounts/PartialActivityView",
                data: { id: accID },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('#activityDetails').html('').html(response);
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

    </script>

    @*Neviigations*@
    <script>
        var LocationurlD = function () {

            $('#Createdevice').modal('show');

        }

        var LocationurlConf = function () {
            var devName = document.getElementById("Dname").innerHTML;
            window.location = '/Devices/DeviceSensorGraph?DeviceName=' + devName;
        }

        var CreateCaseAccount = function () {
            $('#CreateCase').modal('show');

        }
        var LocationurlWD = function () {
            var accID = document.getElementById("accID").textContent;
            var accName = document.getElementById("accName").textContent;
            var url = '/WorkFlows/WorkFlowDesigner?AccountId=' + accID + '&accountname=' + accName;
            var w = 800;
            var h = 600;
            var left = Number((screen.width / 2) - (w / 2));
            var tops = Number((screen.height / 2) - (h / 2));

            window.open(url, '', 'titlebar = no,toolbar=no ,location=no, directories=no,  status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' + w + ', height=' + h + ', top=' + tops + ', left=' + left);
        }

        var LocationurlA = function () {
            $('#CreateAssets').modal('show');
        }

        var LocationurlL = function () {
            $('#CreateLocation').modal('show');
        }

        var LocationurlAc = function () {
            $('#CreateActivity').modal('show');
        }

        var LocationurlO = function () {
            $('#CreateModule').modal('show');
        }

        var LocationurlC = function () {
            $('#CreateContact').modal('show');
        }

        var LocationurlW = function () {
            $('#CreateWorder').modal('show');
        }

    </script>

    @*Table Script*@
    <script>
        $('#m_table_1').DataTable({
            responsive: true,
            scrollY: false,
            scrollX: false,
            scrollCollapse: true,
            //== Pagination settings
            dom: `<'row'<'col-sm-6 text-left'f><'col-sm-6 text-right'B>>
                                                                                                                                                                <'row'<'col-sm-12'tr>>
                                                                                                                                                                <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,
            buttons: [
                'print',
                'copyHtml5',
                'excelHtml5',
                'csvHtml5',
                'pdfHtml5',
            ],
            columnDefs: [
                {
                    targets: [0, 1],   //first name & last name
                    orderable: false
                },
                {
                    targets: 12,
                    render: function (data, type, full, meta) {
                        var status = {
                            Active: { 'title': 'Active', 'class': ' m-badge--success' },
                            Inactive: { 'title': 'InActive', 'class': ' m-badge--danger' },
                        };
                        if (typeof status[data] === 'undefined') {
                            return data;
                        }
                        return '<span class="m-badge ' + status[data].class + ' m-badge--wide">' + status[data].title + '</span>';
                    },
                }
            ],
        });


    </script>

    <script>

        var checkbox = function () {
            var checkbox = document.getElementById("checkbox");
            var field = document.getElementById("crm");
            if (checkbox.checked == true) {
                field.style.display = "block";
            }
            else
                field.style.display = "none";
        }
        var append_treeView_Id = 0;

        var AccountDetailMacAddress = "";
        var url;
        var AccountDetialDeviceId = "";
        var AccountDetialAssetId = "";

        var showModal = function () {

            $('#confirmModal').modal('show');
        }

        $(document).ready(function () {

            $(function () {
                $('#jstree1').on('changed.jstree', function (e, data) {
                    var objNode = data.instance.get_node(data.selected);

                    if (objNode == false) { return false; }

                    if (objNode.li_attr.deviceid != undefined && objNode.li_attr.deviceid != AccountDetialDeviceId) {
                        AccountDetialDeviceId = objNode.li_attr.deviceid;
                        LoadDeviceSensorGraph(objNode.li_attr.deviceid);
                    }

                    if (objNode.li_attr.macaddress != undefined && objNode.li_attr.deviceid != "" && objNode.li_attr.macaddress != AccountDetailMacAddress) {
                        AccountDetailMacAddress = objNode.li_attr.macaddress;
                        localStorage.setItem('selectedDevice', objNode.li_attr.macaddress);
                        GetGraphOfMAC();
                    }
                    if (objNode.li_attr.assetid != "undefined" && objNode.li_attr.assetid != "" && objNode.li_attr.assetid != AccountDetialAssetId) {
                        AccountDetialAssetId = objNode.li_attr.assetid;
                        localStorage.setItem('SelectedAsset', objNode.li_attr.assetid);
                    }

                }).jstree({
                    "core": {
                        "multiple": true,
                        "check_callback": true,
                        'themes': {
                            "responsive": true,
                            'variant': 'larg',
                            'stripes': false,
                            'dots': false,
                            'icons': false
                        }
                    },
                    "types": {
                        "default": {

                        },
                        "file": {
                            "icon": "fa fa-microchip icon-state-warning icon-lg"
                        }
                    },
                    "plugins": ["dnd", "state", "types", "sort"]
                });

            });

        });

        function GetGraphOfMAC() {

            var MacAddress = localStorage.getItem('selectedDevice');

            $('#HideAndShowLineChart').hide();
            $('#HideAndShowMap').hide();
            $('#HideAndShowLightOnOff').hide();
            $('#HideAndShowLightOnOff1').hide();
            $('#HideAndShowLightOnOff2').hide();
            $('#HideAndShowMedical').hide();
            $('#HideAndShowTank').hide();

            var obj = { MacAddress: MacAddress };
            console.log("GetGraphOfMACData");
            $.ajax({
                type: "GET",
                url: "/Devices/GetGraphOfMACData",
                data: obj,
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    var data = JSON.parse(response);

                    for (var i = 0; i < data.length; i++) {

                        if (data[i].SensorName == "Temperature" && data[i].GraphName == "Line") {
                            $('#HideAndShowLineChart').show();
                        }
                        if (data[i].SensorName == "Liquid Level" && data[i].GraphName == "Tank") {
                            $('#HideAndShowTank').show();

                        }
                        if (data[i].SensorName == "Location" && data[i].GraphName == "Map") {
                            $('#HideAndShowMap').show();
                        }
                        if (data[i].SensorName == "Light" && data[i].GraphName == "On/Off") {
                            $('#HideAndShowLightOnOff').show();
                            $('#HideAndShowLightOnOff1').show();
                            $('#HideAndShowLightOnOff2').show();
                            ResetBlobSliderValue();
                        }
                        if (data[i].SensorName == "Heat rate / Fever" && data[i].GraphName == "Medical / Checkups") {
                            $('#HideAndShowMedical').show();
                        }

                    }
                    for (var i = 0; i < data.length; i++) {
                        $("#Wsensors").append(new Option(data[i].SensorName, data[i].SensorName));
                    }
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });

        }

        var LoadOpportunityOnId = function (id) {
            var accID = document.getElementById("accID").textContent;

            $('#RightSideModal').modal('show');
            $(".m-page--loading").css("display", "block");
            $.ajax({
                type: "GET",
                url: "/Accounts/GetOppertunityDetailOnId",
                data: { id: id, accountId: accID },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('.modal-content-rightside').html('').html(response);

                    $(".m-page--loading").css("display", "none");
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        /**
         * Workflow Design
         */
        var LoadWorkflow = function () {
            $('body').addClass('m-page--loading');
            $.ajax({
                type: "GET",
                url: "/Accounts/GetWorkflow",
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var LoadDeviceSensorGraph = function (deviceId) {

            if (deviceId == "undefined") {
                return false;
            }

            var obj = { deviceId: deviceId };
            console.log("DSGonDeviceId");
            $.ajax({
                type: "GET",
                url: "/Devices/DSGonDeviceId",
                data: obj,
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    var data = JSON.parse(response);
                    for (var i = 0; i < data.length; i++) {
                        if (data[i].SensorName == "Temperature") {

                        }
                        else if (data[i].SensorName == "Location") {

                        }
                        else if (data[i].SensorName == "Light") {

                        }
                    }
                },
                failure: function () {
                    alert("Failed!");
                }
            });
        }

        $(document).ready(function () {

            $('#m_table_Account').DataTable({
                responsive: true,
                "bPaginate": false,
                "bFilter": false,
                "bInfo": false
            });

            $('#m_table_RepairedDevice').DataTable({
                responsive: true,
                "bPaginate": true,
                "bFilter": false,
                "bInfo": false,
                "pageLength": 2,
                "lengthChange": false,
                "lengthMenu": [[1, 2, 5, -1], [1, 2, 5, "All"]]
            });

            $('#m_table_ServicesDevice').DataTable({
                responsive: true,
                "bPaginate": true,
                "bFilter": false,
                "bInfo": false,
                "lengthChange": false,
                "pageLength": 2,
                "lengthMenu": [[1, 2, 5, -1], [1, 2, 5, "All"]]
            });

            $('#m_table_Opportunity').DataTable({
                responsive: true,
                "bPaginate": true,
                "bFilter": false,
                "bInfo": false,
                "lengthChange": false,
                "pageLength": 1,
                "lengthMenu": [[1, 2, 5, -1], [1, 2, 5, "All"]]
            });

            $("#m_tree_4").jstree({
                "core": {
                    "themes": {
                        "responsive": false
                    },
                    // so that create works
                    "check_callback": true,
                    'data': [{
                        "text": "Parent Node",
                        "children": [{
                            "text": "Initially selected",
                            "state": {
                                "selected": true
                            }
                        }, {
                            "text": "Custom Icon",
                            "icon": "fa fa-warning m--font-danger"
                        }, {
                            "text": "Initially open",
                            "icon": "fa fa-folder m--font-success",
                            "state": {
                                "opened": true
                            },
                            "children": [
                                { "text": "Another node", "icon": "fa fa-file m--font-waring" }
                            ]
                        }, {
                            "text": "Another Custom Icon",
                            "icon": "fa fa-warning m--font-waring"
                        }, {
                            "text": "Disabled Node",
                            "icon": "fa fa-check m--font-success",
                            "state": {
                                "disabled": true
                            }
                        }, {
                            "text": "Sub Nodes",
                            "icon": "fa fa-folder m--font-danger",
                            "children": [
                                { "text": "Item 1", "icon": "fa fa-file m--font-waring" },
                                { "text": "Item 2", "icon": "fa fa-file m--font-success" },
                                { "text": "Item 3", "icon": "fa fa-file m--font-default" },
                                { "text": "Item 4", "icon": "fa fa-file m--font-danger" },
                                { "text": "Item 5", "icon": "fa fa-file m--font-info" }
                            ]
                        }]
                    },
                        "Another Node"
                    ]
                },
                "types": {
                    "default": {
                        "icon": "fa fa-folder m--font-brand"
                    },
                    "file": {
                        "icon": "fa fa-file  m--font-brand"
                    }
                },
                "state": { "key": "demo2" },
                "plugins": ["contextmenu", "state", "types"]
            });

            $('#m_table_Device').DataTable({ scrollX: true });

        });

        var ToConfirm = function (value, name, lat, long) {
            var value
            var name
            var lat
            var long
            var location = lat + ',' + long;
            if (confirm('Are you Sure?')) { window.location = '/Firmwares/Create?MacAddress=' + value + '&devicename=' + name + '&location=' + location; }
        }
        var ToConfirms = function () {
            var value = document.getElementById("MacVal").innerHTML;
            var name = document.getElementById("Dname").innerHTML;
            var lat = document.getElementById("LatVal").innerHTML;
            var long = document.getElementById("LongVal").innerHTML;

            var location = lat + ',' + long;
            if (confirm('Are you Sure?')) { window.location = '/Firmwares/Create?MacAddress=' + value + '&devicename=' + name + '&location=' + location; }
        }

        var workflowConfrim = function () {
            window.location = '/WorkFlows/Index';
        }

        var notifyDirect = function () {
            window.location = '/eventNotifications/index';
        }

        var deviceGraph = function (value) {
            localStorage.setItem('selectedDevice', value);
            SaveMacAddress(value);
            window.location = '/Devices/device';
        }
        var assetRightSlider = function (assetName) {
            var AssetId = localStorage.getItem('SelectedAsset');
            document.getElementById("AssetTitle").textContent = assetName;
            $('#HideAndShowLineChartAsset').hide();
            $('#HideAndShowMapAsset').hide();
            $('#HideAndShowLightOnOffAsset').hide();
            $('#HideAndShowLightOnOff1Asset').hide();
            $('#HideAndShowLightOnOff2Asset').hide();
            $('#HideAndShowMedicalAsset').hide();
            $('#HideAndShowTankAsset').hide();
            var ConnetedDevicesAsset = 0;;
            var obj = { AssetId: AssetId };
            $.ajax({
                type: "GET",
                url: "/Devices/GetGraphOfAssetData",
                data: obj,
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    var data = JSON.parse(response);
                    for (var i = 0; i < data.length; i++) {

                        if (data[i].SensorName == "Temperature" && data[i].GraphName == "Line") {
                            $('#HideAndShowLineChartAsset').show();
                        }
                        if (data[i].SensorName == "Liquid Level" && data[i].GraphName == "Tank") {
                            $('#HideAndShowTankAsset').show();

                        }
                        if (data[i].SensorName == "Location" && data[i].GraphName == "Map") {
                            $('#HideAndShowMapAsset').show();
                        }
                        if (data[i].SensorName == "Light" && data[i].GraphName == "On/Off") {
                            $('#HideAndShowLightOnOffAsset').show();
                            $('#HideAndShowLightOnOff1Asset').show();
                            $('#HideAndShowLightOnOff2Asset').show();
                            ResetBlobSliderValue();
                        }
                        if (data[i].SensorName == "Heat rate / Fever" && data[i].GraphName == "Medical / Checkups") {
                            $('#HideAndShowMedicalAsset').show();
                        }

                    }
                    for (var i = 0; i < data.length; i++) {
                        $("#Wsensors").append(new Option(data[i].SensorName, data[i].SensorName));
                    }
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
            $.ajax({
                type: "GET",
                url: "/Devices/GetListOfDevicesonAssetId",
                data: obj,
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    var dataDevices = JSON.parse(response);
                    console.log("Devices");
                    console.log(dataDevices);
                    console.log("Devices");
                    document.getElementById("TotalDevicesAssets").textContent = dataDevices.length;
                    if (ConnectedDevices.length != 0) {
                        for (var i = 0; i < dataDevices.length; i++) {
                            for (var j = 0; j < ConnectedDevices.length; j++) {
                                if (ConnectedDevices[j] == dataDevices[i].Mac) {
                                    ConnetedDevicesAsset++;
                                }
                            }
                        }
                        document.getElementById("ConnectedDevicesAssets").textContent = ConnetedDevicesAsset;
                    }
                    else
                        document.getElementById("ConnectedDevicesAssets").textContent = "0";

                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
            $("#MapRightSliderModalAsset").modal("show");

        }
        var MapRightSlider = function (EMEI, lat, long, mac, name, cloud, data, id) {

            $('#MapRightSliderModal').modal('show');
            $('#MapRightSliderModal').addClass('m-page--loading');
            $('#btnsCloud').hide();
            $('#btnsAmazon').hide();
            $('#btnsINCA').hide();
            $('#EmeiVal').html(EMEI);
            $('#LatVal').html(lat);
            $('#LongVal').html(long);
            $('#MacVal').html(mac);
            $('#Dname').html(name);
            $('#Did').html(id);
            document.getElementById('macaddress').value = mac;
            if (cloud == "IBM") {
                $('#btnsCloud').show();
                $('#btnsINCA').hide();
                $('#btnsAmazon').hide();

            }
            else if (cloud == "Amazon") {
                $('#btnsCloud').hide();
                $('#btnsAmazon').show();
                $('#btnsINCA').hide();
            }
            else {
                $('#btnsCloud').hide();
                $('#btnsINCA').show();
                $('#btnsAmazon').hide();

            }

            $('#MapRightSliderModal').removeClass('m-page--loading');

            //var str = data.split(",");
            ////Organization ID
            //var org = str[0].toString();
            //org = org.match(":(.*)");
            //var orgID = org[1].toString();
            //orgID = orgID.substr(1, orgID.length - 2);
            ////Application Name
            //var app = str[1].toString();
            //app = app.match(":(.*)");
            //app = app[1].toString();
            //var appname = app.substr(1, app.length - 2);
            ////Device Type
            //var dev = str[4].toString();
            //dev = dev.match(":(.*)");
            //dev = dev[1].toString();
            //var deviceType = dev.substr(1, dev.length - 2);

            ////Device ID substr.length-1
            //var devid = str[5].toString();
            //devid = devid.match(":(.*)");
            //devid = devid[1].toString();
            //var deviceID = devid.substr(1, devid.length - 2);

            //url = "https://www." + orgID + "." + appname + ".ibmcloud.com/dashboard/devices/drilldown/" + deviceType + ":" + deviceID;

        }
        var nevToURL = function () {

            window.location.assign(url);
        }
        var MapRightSliderD = function () {
            $('#MapRightSliderModalD').modal('show');
        }
        var WorfFlowModalShow = function () {
            $('#WorfFlowModal').modal('show');
        }
        var MapRightSliderO = function () {
            $('#MapRightSliderModalO').modal('show');
        }
        var MapRightSliderC = function () {
            $('#MapRightSliderModalC').modal('show');
        }
        var MapRightSliderW = function () {
            $('#MapRightSliderModalW').modal('show');
        }

    </script>

    <script src="~/Content/plugins/datepicker/bootstrap-datepicker.js"></script>
    <link href="~/Content/plugins/datepicker/datepicker3.css" rel="stylesheet" />
    <script src="~/Content/canvasjs.min.js"></script>

    @*Connected Devices*@
    <script>
        $(document).ready(function () {


            $('#tableMain').on('click', 'tr.breakrow', function () {
                $(this).nextUntil('tr.breakrow').slideToggle(200);
            });
            $('[data-toggle="tooltip"]').tooltip();
            $('#btnsCloud').hide();
            $('#btnsINCA').hide();

        });
        var ConnectedDevices = new Array();             //For Connected Devices

        /*
          * Getting Connected Devices list
          * Showing the active icon for connected device
          * showing the devices count on assets level
         */
        var getListofDevupdateices = function (mac) {
            if (document.getElementById(mac) != null) {
                var macadd = document.getElementById(mac).name;
                if (macadd == mac) {
                    document.getElementById(mac).setAttribute("src", "/Content/Images/DeviceOn.gif");
                    if (ConnectedDevices.indexOf(mac) == -1) {
                        ConnectedDevices.push(mac);
                    }
                }
            }

            if (ConnectedDevices.length > 0) {
                document.getElementById("ConDev").innerHTML = ConnectedDevices.length;
                document.getElementById("deviceimgC").style.display = "inline-block";

            }
            var disDevices = document.getElementById("hField").textContent - ConnectedDevices.length;
            if (disDevices > 0) {
                document.getElementById("devices").textContent = document.getElementById("hField").textContent - ConnectedDevices.length;
                document.getElementById("deviceimgD").style.display = "inline-block";
            }
        }


    </script>
    @*Device Sensor Graph, Workflow & Modals *@
    <script>
        $(document).ready(function () {

            $('#HideAndShowLineChart').hide();
            $('#HideAndShowMap').hide();
            $('#HideAndShowLightOnOff').hide();
            $('#HideAndShowLightOnOff1').hide();
            $('#HideAndShowLightOnOff2').hide();
            $('#HideAndShowMedical').hide();
            $('#WorfFlowModal').hide();
            $('#HideAndShowTank').hide();


        });

        var PostDataFW = function () {
            var ver = document.getElementById("FWver").value;
            var des = document.getElementById("FWdes").value;
            var ser = document.getElementById("FWser").value;
            var file = document.getElementById("file").value;
            var devname = document.getElementById("Dname").textContent;
            var obj = { DevName: devname, Version: ver, Desc: des, Serv: ser, File: file };
            $.ajax({
                type: "POST",
                url: "/Firmwares/FWDevice",
                data: obj,
                dataType: "text",
                success: function (response) {
                    if (response == "error") {
                        ("Failed to update on mqtt.");
                    }
                    else {
                        alert("Failed to update on mqtt.");
                    }

                },
                failure: function () {
                    alert("Failed!");
                }
            })
        }

        var PostData = function () {
            var name = document.getElementById("Wname").value;
            var sensors = document.getElementById("Wsensors").value;
            var threshold = document.getElementById("WThreshold").value;
            var threshold1 = document.getElementById("WThreshold1").value;
            var action = document.getElementById("Waction").value;
            var priority = document.getElementById("Wpriority").value;
            var desc = document.getElementById("Wdescription").value;
            var accID = document.getElementById("accID").textContent;
            var devname = document.getElementById("Dname").textContent;
            var macadd = document.getElementById("macaddress").value;
            var cloud = document.getElementById("WCloud").value;
            var deviceId = document.getElementById("Did").textContent;

            if (priority == "High") {
                priority = 100;
            }
            else if (priority == "Medium") {
                priority = 66;
            }
            else if (priority == "Low") {
                priority = 33;
            }
            var thres = threshold + "," + threshold1;
            var obj = { Name: name, Sensor: sensors, Thresh: thres, Action: action, Priority: priority, desc: desc, AccountId: accID, DevName: devname, mac: macadd, Cloud: cloud, DeviceId: deviceId };

            $.ajax({
                type: "POST",
                url: "/WorkFlows/workflowDevice",
                data: obj,
                dataType: "text",
                success: function (response) {
                    if (response == "error") {
                        ("Failed to update on mqtt.");
                    }
                    else {
                        alert("Failed to update on mqtt.");
                    }

                },
                failure: function () {
                    alert("Failed!");
                }
            })
            $('#workflow').hide();
        }

        var dps = []; // dataPoints
        var chart = new CanvasJS.Chart("chartContainer", {
            height: 120,
            width: 280,
            title: {
                text: "Live Temperature"
            },
            axisY: {
                includeZero: false
            },
            data: [{
                type: "line",
                dataPoints: dps
            }]
        });


        chart.render();


        var tempValues = [];
        var minTemp, maxTemp, aveTemp;
        var xVal = 0;
        var yVal = 100;
        var updateInterval = 1000;
        var dataLength = 10; // number of dataPoints visible at any point
        var count = 0;

        var updateChart = function (Time, Temperature) {
            dps.push({
                x: Time,
                y: Temperature
            });
            count++;
            if (dps.length > dataLength) {
                dps.shift();
                count = 0;
            }
            tempValues.push(Temperature);
            //console.log("array");
            const arrAvg = arr => arr.reduce((a, b) => a + b, 0) / arr.length
            var av = arrAvg(tempValues).toFixed(2);
            const arrMax = arr => Math.max(...arr);
            const arrMin = arr => Math.min(...arr);
            console.log(tempValues);
            console.log(arrMax(tempValues));

            //numb = numb.toFixed(2);
            //document.getElementById("maxValue").textContent = Math.max(...tempValues) + ascii(176) + "C";
            //document.getElementById("minValue").textContent = Math.max(...tempValues) + ascii(176) + "C";
            //document.getElementById("minValue").textContent = eval(tempValues.join('+')) / tempValues.length + ascii(176) + "C";
            //console.log(Math.max(...array1));
            if (tempValues.length > 9) {
                document.getElementById("maxValue").textContent = arrMax(tempValues) + ascii(176) + "C";
                document.getElementById("minValue").textContent = arrMin(tempValues) + ascii(176) + "C";
                document.getElementById("averageValue").textContent = arrAvg(tempValues).toFixed() + ascii(176) + "C";

                tempValues.shift();
            }

            document.getElementById("temperatureValue").textContent = Temperature + ascii(176) + "C";

            chart.render();
        };
        var getMin = function (temp) {

        }

        var updateTank = function (Value) {

            //$.ajax({
            //    type: "GET",
            //    url: "/Devices/GetTankHeight",
            //    //data: '{name: "abc" }',
            //    contentType: "application/json; charset=utf-8",
            //    dataType: "json",
            //    success: function (response) {

            //    },
            //    failure: function () {
            //        alert("Failed!");
            //    }
            //});
            var value = Value * 0.032;
            var perc = ((value / 0.75) * 100).toFixed(2);

            document.getElementById("tanklevelText").textContent = 100 - perc + "%";
            var position = "-" + perc + "%";
            $('.cup').css('background-position-y', position);
        }

        $("#deviceTitle").text(localStorage.getItem('selectedDevice'));
        function ascii(a) { return String.fromCharCode(a); }
    </script>

    @*relay and dimmer*@
    <script>
        $(document).ready(function () {
            $('#sliderHideAndShowOnLight').hide();
        });

        $('#toggle_event_editing button').click(function () {

            var IsDeviceOn = false;

            if ($(this).hasClass('locked_active') || $(this).hasClass('unlocked_inactive')) {
                /* code to do when unlocking */
                $('#switch_status').html('Switched on.');
                $('#BulbOnOffId').removeAttr('style');
                $('#BulbOnOffId').attr('style', "font-size: 200px;color: hsla(50, 100%, 50%, 1);display:block;");
                $('#sliderHideAndShowOnLight').show();
                IsDeviceOn = true;
            } else {
                /* code to do when locking */
                $('#switch_status').html('Switched off.');
                $('#BulbOnOffId').removeAttr('style');
                $('#BulbOnOffId').attr('style', "font-size: 200px;color: hsla(50, 0%, 50%, 1);display:block;");
                $('#sliderHideAndShowOnLight').hide();
                IsDeviceOn = false;
            }

            /* reverse locking status */
            $('#toggle_event_editing button').eq(0).toggleClass('locked_inactive locked_active btn-default btn-info');
            $('#toggle_event_editing button').eq(1).toggleClass('unlocked_inactive unlocked_active btn-info btn-default');

            var obj = { deviceStatus: IsDeviceOn };
            $.ajax({
                type: "POST",
                url: "/Devices/SendMessageToMqtt",
                data: obj,
                dataType: "text",
                success: function (response) {
                    if (response == "error") {
                        ("Failed to update on mqtt.");
                    }
                    else {
                        alert("Failed to update on mqtt.");
                    }

                },
                failure: function () {
                    alert("Failed!");
                }
            });

        });


        var slider = document.getElementById("myRange");
        var output = document.getElementById("myRangeValue");
        var slidevalue = slider.value;
        output.innerHTML = slider.value;

        slider.oninput = function () {
            $('#BulbOnOffId').attr('style', "font-size: 200px;color: hsla(50, " + this.value + "%, 50%, 1);display:block;");
            output.innerHTML = this.value;
            slidevalue = this.value;
            var obj = { silderValue: slidevalue };
            $.ajax({
                type: "POST",
                url: "/Devices/SendMessageToMqtts",
                data: obj,
                success: function (response) {
                    if (response == "error") {
                        ("Failed to update on mqtt.");
                    }
                    else {
                        alert("Failed to update on mqtt.");
                    }
                },
                failure: function () {
                    alert("Failed!");
                }
            });
        }

        var ResetBlobSliderValue = function () {
            $('#myRange').val('100');
            $('#myRangeValue').html('100');
        }

    </script>

    <script>
                //$(document).ready(function () {


                //    $("#SearchFieldId").focus();
                //    var accountName = $("#SearchFieldId").val().split(">")[1].trim();
                //    var accountId = window.location.pathname;
                //    Load_All_EACSearchListModulePages("Accounts", accountName, accountId.split("/")[3]);
                //});
    </script>


}