
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutDashboard.cshtml";
}

<div class="modal fade bd-example-modal-sm" id="WelcomeModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="mySmallModalLabel">Welcome to Swuich</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div><!--end modal-header-->
            <div class="modal-body text-center">
                <img src="~/Content/Assets/images/users/User_Swuich.png" alt="" class="thumb-lg rounded-circle" style="height:80px; width:80px;">
                <h4 class="mb-1" id="WelcomeSalute"></h4>
                <p class="mb-1 text-muted font-15">Hi, @Session["UserName"] !</p>
                <p class="text-muted mb-0 font-14">
                    You have 43 unread notifications. Please check your notifications.
                </p>
            </div><!--end modal-body-->
        </div><!--end modal-content-->
    </div><!--end modal-dialog-->
</div><!--end modal-->
<!-- Device Modal Popup Start-->
<div class="modal fade bs-example-modal-lg" id="DeviceGraphModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title mt-0" id="myLargeModalLabel">Device ON/OFF</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="background-color: #f1ececa8">
                @Html.Partial("~/Views/Accounts/_DeviceGraphPopupPV.cshtml")
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- Device Modal END-->
<!-- Temperature Graph Modal Popup Start-->
<div class="modal fade bs-example-modal-lg" id="TempGraphModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title mt-0" id="myLargeModalLabel">Temperature Graph</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="background-color: #f1ececa8">
                @Html.Partial("~/Views/Accounts/_TempGraphPopupPV.cshtml")
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- Temperature Graph Modal END-->
<!-- Do not have any type of Graph Modal Popup Start-->
<div class="modal fade bs-example-modal-lg" id="NoGraphModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title mt-0" id="myLargeModalLabel">Do not have any Graph type</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="background-color: #f1ececa8">
                @Html.Partial("~/Views/Accounts/_NoGraphTypePopupPV.cshtml")
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- Do not have any type of Graph Modal END-->


<div class="page-wrapper">
    <!-- Page Content-->
    <div class="page-content-tab">

        <div class="container-fluid">
            <!-- Page-Title -->
            <div class="row">
                <div class="col-sm-12">
                    <div class="page-title-box">
                        <div class="float-end">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item">
                                    <a href="#">Swuich</a>
                                </li><!--end nav-item-->
                                <li class="breadcrumb-item">
                                    <a href="#">Dashboard</a>
                                </li><!--end nav-item-->
                                <li class="breadcrumb-item active">Dashboard</li>
                            </ol>
                        </div>
                        <h4 class="page-title">Dashboard</h4>
                    </div><!--end page-title-box-->
                </div><!--end col-->
            </div>
            <!-- end page title end breadcrumb -->
            @if (User.IsInRole("Admin"))
            {
                <div class="row">
                    <div class="col-lg-12">
                        <div class="row justify-content-center">
                            <div class="col-md-6 col-lg-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row align-items-center">
                                            <div class="col">
                                                <h4 class="card-title">Expected Sales</h4>
                                            </div><!--end col-->
                                            <div class="col-auto">
                                                <div class="dropdown">
                                                    <a href="#" class="btn btn-outline-light font-10 dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="DropDownName">
                                                        All Year<i class="las la-angle-down ms-1"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a class="dropdown-item" id="ThisWeek">This week</a>
                                                        <a class="dropdown-item" id="ThisMonth">This month</a>
                                                        <a class="dropdown-item" id="ThisYear">This Year</a>
                                                        <a class="dropdown-item" id="AllYearSale">All Year</a>
                                                    </div>
                                                </div>
                                            </div><!--end col-->
                                        </div>

                                        <div class="row d-flex justify-content-center">
                                            <div class="col mt-2">
                                                <h3 class="my-1 font-20 fw-bold" id="SalesSum"></h3>
                                            </div><!--end col-->
                                            <div class="col-auto align-self-center">
                                                <div class="d-flex justify-content-center align-items-center thumb-md bg-light-alt rounded-circle mx-auto">
                                                    <i class="ti ti-currency-dollar text-primary font-24 align-self-center text-muted"></i>
                                                </div>
                                            </div><!--end col-->
                                        </div><!--end row-->
                                    </div><!--end card-body-->
                                </div><!--end card-->
                            </div> <!--end col-->
                            <div class="col-md-6 col-lg-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row align-items-center">
                                            <div class="col">
                                                <h4 class="card-title">Opportunities</h4>
                                            </div><!--end col-->
                                            <div class="col-auto">
                                                <div class="dropdown">
                                                    <a href="#" id="OppDropDown" class="btn btn-outline-light font-10 dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                        All Year<i class="las la-angle-down ms-1"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a class="dropdown-item" id="WeekOpp">This week</a>
                                                        <a class="dropdown-item" id="MonthOpp">This month</a>
                                                        <a class="dropdown-item" id="YearOpp">This Year</a>
                                                        <a class="dropdown-item" id="AllYearOpp">All Year</a>
                                                    </div>
                                                </div>
                                            </div><!--end col-->
                                        </div>

                                        <div class="row d-flex justify-content-center">
                                            <div class="col mt-2">
                                                <h3 class="my-1 font-20 fw-bold" id="OppCount"></h3>
                                            </div><!--end col-->
                                            <div class="col-auto align-self-center">
                                                <div class="d-flex justify-content-center align-items-center thumb-md bg-light-alt rounded-circle mx-auto">
                                                    <i class="ti ti-report-money font-24 align-self-center text-muted"></i>
                                                </div>
                                            </div> <!--end col-->
                                        </div><!--end row-->
                                    </div><!--end card-body-->
                                </div><!--end card-->
                            </div> <!--end col-->
                            <div class="col-md-6 col-lg-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row align-items-center">
                                            <div class="col">
                                                <h4 class="card-title">Work Orders</h4>
                                            </div><!--end col-->
                                            <div class="col-auto">
                                                <div class="dropdown">
                                                    <a href="#" id="WorkOrderDropDown" class="btn btn-outline-light font-10 dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                        All Year<i class="las la-angle-down ms-1"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a class="dropdown-item" id="WeekWorkOrder">This week</a>
                                                        <a class="dropdown-item" id="MonthWorkOrder">This month</a>
                                                        <a class="dropdown-item" id="YearWorkOrder">This Year</a>
                                                        <a class="dropdown-item" id="AllYearWorkOrder">All Year</a>
                                                    </div>
                                                </div>
                                            </div><!--end col-->
                                        </div>

                                        <div class="row d-flex justify-content-center">
                                            <div class="col mt-2">
                                                <h3 class="my-1 font-20 fw-bold" id="WorkOrdercount"></h3>
                                            </div><!--end col-->
                                            <div class="col-auto align-self-center">
                                                <div class="d-flex justify-content-center align-items-center thumb-md bg-light-alt rounded-circle mx-auto">
                                                    <i class="ti ti-infinity font-24 align-self-center text-muted"></i>
                                                </div>
                                            </div> <!--end col-->
                                        </div><!--end row-->
                                    </div><!--end card-body-->
                                </div><!--end card-->
                            </div> <!--end col-->
                            <div class="col-md-6 col-lg-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row align-items-center">
                                            <div class="col">
                                                <h4 class="card-title">Leads</h4>
                                            </div><!--end col-->
                                            <div class="col-auto">
                                                <div class="dropdown">
                                                    <a href="#" id="LeadDropDown" class="btn btn-outline-light font-10 dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                        All Year<i class="las la-angle-down ms-1"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a class="dropdown-item" id="WeekLead">This week</a>
                                                        <a class="dropdown-item" id="MonthLead">This month</a>
                                                        <a class="dropdown-item" id="YearLead">This Year</a>
                                                        <a class="dropdown-item" id="AllYearLead">All Year</a>
                                                    </div>
                                                </div>
                                            </div><!--end col-->
                                        </div>

                                        <div class="row d-flex justify-content-center">
                                            <div class="col mt-2">
                                                <h3 class="my-1 font-20 fw-bold" id="Leadcount"></h3>
                                            </div><!--end col-->
                                            <div class="col-auto align-self-center">
                                                <div class="d-flex justify-content-center align-items-center thumb-md bg-light-alt rounded-circle mx-auto">
                                                    <i class="ti ti-filter  font-24 align-self-center text-muted"></i>
                                                </div>
                                            </div><!--end col-->
                                        </div><!--end row-->
                                    </div><!--end card-body-->
                                </div><!--end card-->
                            </div> <!--end col-->
                        </div><!--end row-->
                    </div><!--end col-->
                </div><!--end row-->
            }

            <div class="row">
                <div class="col-lg-12">
                    <div class="row justify-content-center">
                        <div class="row col-lg-9">
                            <div class="card">
                                <div class="card-header">
                                    <div class="row align-items-center">
                                        <div class="col">
                                            <h4 class="card-title">Device Location</h4>
                                        </div><!--end col-->
                                    </div>  <!--end row-->
                                </div><!--end card-header-->
                                <div class="card-body" style="width: 100%; height: 320px">
                                    <div id="device_map"></div>
                                </div><!--end card-body-->
                            </div><!--end card-->

                            @if (User.IsInRole("Admin"))
                            {
                                <div class="card">
                                    <div class="card-header">
                                        <div class="row align-items-center">
                                            <div class="col">
                                                <h4 class="card-title">Opportunity Stats</h4>
                                            </div><!--end col-->

                                        </div>  <!--end row-->
                                    </div><!--end card-header-->
                                    <div class="card-body">
                                        <div class="apexchart-wrapper">
                                            <div id="OppStatsGraph" class="chart-gutters mb-n4"></div>
                                        </div>
                                    </div><!--end card-body-->
                                </div><!--end card-->
                            }

                            <!--<div class="card">
                                <div class="card-header">
                                    <div class="row align-items-center">
                                        <div class="col">
                                            <h4 class="card-title">Tracking Locations</h4>
                                        </div>--><!--end col-->
                                    <!--</div>-->  <!--end row-->
                                <!--</div>--><!--end card-header-->
                                <!--<div class="card-body" style="width: 100%; height: 320px">
                                    <div id="device_maptrack"></div>
                                </div>--><!--end card-body-->
                            <!--</div>--><!--end card-->

                        </div>
                        <div class="col-lg-3">
                            <div class="card">
                                <div class="card-header">
                                    <div class="row align-items-center">
                                        <div class="col">
                                            <h4 class="card-title">Cloud Live Devices</h4>
                                        </div><!--end col-->

                                    </div>  <!--end row-->
                                </div><!--end card-header-->
                                <div class="card-body">
                                    @if (User.IsInRole("Admin"))
                                    {
                                        <div class="text-center" style="position: relative; height:280px">
                                            <div id="Clouddevice_graph" class="apex-charts  mt-4"></div>
                                            <div class="mt-3">
                                                <i class="ti ti-router  me-2" style="color: #669999; "></i>Swuich
                                                <i class="ti ti-router me-2" style="color: #2a76f4;"></i>IBM
                                                <i class="ti ti-router  me-2" style="color: #ff00aa;"></i>Google<br />
                                                <i class="ti ti-router me-2" style="color: #80d4ff;"></i>Amazon
                                                <i class="ti ti-router  me-2" style="color: #1a1aff;"></i>Microsoft
                                            </div>
                                            <div class="resize-triggers"><div class="expand-trigger"><div style="width: 358px; height: 282px;"></div></div><div class="contract-trigger"></div></div>
                                        </div>
                                    }

                                    <div class="table-responsive browser_users" style="height:auto">
                                        <table id="LiveDevice" class="table table mb-0 font-16 mt-3">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th>Name</th>
                                                    @*<th>name</th>*@
                                                    <th>Mac</th>
                                                    <th>EMEI Number</th>
                                                </tr><!--end tr-->
                                            </thead>
                                            <tbody>
                                            </tbody>
                                        </table> <!--end table-->
                                    </div><!--end /div-->
                                </div><!--end card-body-->
                            </div><!--end card-->
                        </div> <!--end col-->
                    </div>
                </div>
            </div>
            @if (User.IsInRole("Admin"))
            {
                <div class="row">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h4 class="card-title">Leads reports</h4>
                                    </div><!--end col-->
                                    <div class="col-auto">
                                        <div class="dropdown">
                                            <a href="#" id="LeadRepoDropDown" class="btn btn-sm btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                All Year<i class="las la-angle-down ms-1"></i>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-end">
                                                <a class="dropdown-item" id="WeekLeadRepo">This Week</a>
                                                <a class="dropdown-item" id="MothLeadRepo">This Month</a>
                                                <a class="dropdown-item" id="YearLeadRepo">This Year</a>
                                                <a class="dropdown-item" id="AllYearLeadRepo">All Year</a>
                                            </div>
                                        </div>
                                    </div><!--end col-->
                                </div>  <!--end row-->
                            </div><!--end card-header-->
                            <div class="card-body">
                                <div class="table-responsive browser_users" style="height:auto">
                                    <table id="LeadRTable" class="table table mb-0">
                                        <thead class="thead-light">
                                            <tr>
                                                <th class="border-top-0">Leads Type</th>
                                                <th class="border-top-0">Source</th>
                                                <th class="border-top-0">Lead Name</th>
                                            </tr><!--end tr-->
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table> <!--end table-->
                                </div><!--end /div-->
                            </div><!--end card-body-->
                        </div><!--end card-->
                    </div><!--end col-->
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h4 class="card-title">Activity</h4>
                                    </div><!--end col-->
                                    <div class="col-auto">
                                        <div class="dropdown">
                                            <a href="#" id="ActivityDropDown" class="btn btn-sm btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                Today<i class="las la-angle-down ms-1"></i>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-end">
                                                <a class="dropdown-item" id="TodayActivity">Today</a>
                                                <a class="dropdown-item" id="YesterdayActivity">Yesterday</a>
                                                <a class="dropdown-item" id="WeekActivity">This Week</a>
                                                <a class="dropdown-item" id="YearActivity">All Years</a>
                                            </div>
                                        </div>
                                    </div><!--end col-->
                                </div>  <!--end row-->
                            </div><!--end card-header-->
                            <div class="card-bodyp-0">
                                <div class="p-3" data-simplebar="init" style="height: 390px;">
                                    <div class="simplebar-wrapper" style="margin: -16px;">
                                        <div class="simplebar-height-auto-observer-wrapper"><div class="simplebar-height-auto-observer"></div></div><div class="simplebar-mask">
                                            <div class="simplebar-offset" style="right: 0px; bottom: 0px;">
                                                <div class="simplebar-content-wrapper" style="height: 100%; overflow: hidden scroll;">
                                                    <div class="simplebar-content" style="padding: 16px;">
                                                        <div class="activity">
                                                            <!--activity Data Come From jQuery-->
                                                        </div><!--end activity-->
                                                    </div>
                                                </div>
                                            </div>
                                        </div><div class="simplebar-placeholder" style="width: auto; height: 427px;"></div>
                                    </div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="width: 0px; display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: visible;"><div class="simplebar-scrollbar" style="height: 356px; transform: translate3d(0px, 0px, 0px); display: block;"></div></div>
                                </div><!--end analytics-dash-activity-->
                            </div>  <!--end card-body-->
                        </div><!--end card-->
                    </div> <!--end col-->

                </div><!--end row-->
            }


        </div><!-- container -->
        <!--Start Footer-->
        <!-- Footer Start -->
        <footer class="footer text-center text-sm-start">
            ©
            <script>
                document.write(new Date().getFullYear())
            </script> Tech Implement
        </footer>
        <!-- end Footer -->
        <!--end footer-->
    </div>
    <!-- end page content -->
</div>


<script src="~/TIjQuery/DashboardjQuery.js"></script>
<script src="~/TIjQuery/AccountDetailjQuery.js"></script>
<script>
    $(document).ready(function () {

        var Welcome = '@TempData["WelcomeMsg"]';
        if (Welcome.length != 0) {

            $("#WelcomeModal").modal('show');
            var dt = new Date();
            var message = dt.getHours() < 12 ? 'Good Morning !' : dt.getHours() < 17 ? 'Good Afternoon !' : 'Good Evening !';
            $("#WelcomeSalute").html(message);
        }
    });
</script>



